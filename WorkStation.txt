Windows PowerShell
Copyright (C) Microsoft Corporation. All rights reserved.

Install the latest PowerShell for new features and improvements! https://aka.ms/PSWindows

PS C:\Users\Gaurav.26> cd .\Downloads\repo\Linux-mac\
PS C:\Users\Gaurav.26\Downloads\repo\Linux-mac> ls


    Directory: C:\Users\Gaurav.26\Downloads\repo\Linux-mac


Mode                 LastWriteTime         Length Name
----                 -------------         ------ ----
d-----        03-10-2025     07:33                .terraform
-a----        04-09-2025     22:02           1377 .terraform.lock.hcl
-a----        08-10-2025     14:20           1468 Chef-Server.tf
-a----        08-10-2025     14:20            638 Chef-Workstation.tf
-a----        07-09-2025     20:03              0 Dj.txt
-a----        04-09-2025     21:48           2635 id_rsa
-a----        04-09-2025     21:48            594 id_rsa.pub
-a----        07-10-2025     02:20            126 keypair.tf
-a----        07-10-2025     02:20           1585 main.tf
-a----        08-10-2025     14:19           1383 Node.tf
-a----        04-09-2025     21:46             52 provider.tf
-a----        08-10-2025     14:27          27242 terraform.tfstate
-a----        08-10-2025     14:21          16737 terraform.tfstate.backup


PS C:\Users\Gaurav.26\Downloads\repo\Linux-mac>
PS C:\Users\Gaurav.26\Downloads\repo\Linux-mac> ssh -i id_rsa ec2-user@52.66.253.175
The authenticity of host '52.66.253.175 (52.66.253.175)' can't be established.
ED25519 key fingerprint is SHA256:uA11QadOjuMpdIkGqXW+5bfBhwqN55qiB/ZLbZXKOxE.
This key is not known by any other names.
Are you sure you want to continue connecting (yes/no/[fingerprint])? yes
Warning: Permanently added '52.66.253.175' (ED25519) to the list of known hosts.

A newer release of "Amazon Linux" is available.
  Version 2023.8.20250908:
  Version 2023.8.20250915:
  Version 2023.9.20250929:
Run "/usr/bin/dnf check-release-update" for full release and version update info
   ,     #_
   ~\_  ####_        Amazon Linux 2023
  ~~  \_#####\
  ~~     \###|
  ~~       \#/ ___   https://aws.amazon.com/linux/amazon-linux-2023
   ~~       V~' '->
    ~~~         /
      ~~._.   _/
         _/ _/
       _/m/'
[ec2-user@ip-172-31-0-253 ~]$ sudo su
[root@ip-172-31-0-253 ec2-user]#
[root@ip-172-31-0-253 ec2-user]#
[root@ip-172-31-0-253 ec2-user]# ls
chef-repo
[root@ip-172-31-0-253 ec2-user]# cd chef-repo/
[root@ip-172-31-0-253 chef-repo]# knife ssl fetch
INFO: Using configuration from /home/ec2-user/chef-repo/.chef/config.rb
WARNING: Certificates from ip-172-31-15-253.ap-south-1.compute.internal will be fetched and placed in your trusted_cert
       directory (/home/ec2-user/chef-repo/.chef/trusted_certs).

       Knife has no means to verify these are the correct certificates. You should
       verify the authenticity of these certificates after downloading.
Adding certificate for ip-172-31-15-253_ap-south-1_compute_internal in /home/ec2-user/chef-repo/.chef/trusted_certs/ip-172-31-15-253_ap-south-1_compute_internal.crt
[root@ip-172-31-0-253 chef-repo]# knife ssl check
INFO: Using configuration from /home/ec2-user/chef-repo/.chef/config.rb
Connecting to host ip-172-31-15-253.ap-south-1.compute.internal:443
Successfully verified certificates from `ip-172-31-15-253.ap-south-1.compute.internal'
[root@ip-172-31-0-253 chef-repo]# knife bootstrap 172.31.7.17 -N Webserver --ssh-user ec2-user --ssh-identity-file id_rsa.pem--sudo -VV
--ssh-user: This flag is deprecated. Use -U/--connection-user instead.
INFO: Using configuration from /home/ec2-user/chef-repo/.chef/config.rb
DEBUG: Checking if we need to accept Chef license to bootstrap node
DEBUG: Reading products and relationships...
DEBUG: Successfully read products and relationships
DEBUG: License acceptance required for chef version: 18
DEBUG: Searching for the following licenses: ["infra-client", "inspec"]
DEBUG: Missing licenses remaining: ["infra-client", "inspec"]
DEBUG: Requesting a license for ["infra-client", "inspec"]
+---------------------------------------------+
            Chef License Acceptance

Before you can continue, 2 product licenses
must be accepted. View the license at
https://www.chef.io/end-user-license-agreement/

Licenses that need accepting:
  * Chef Infra Client
  * Chef InSpec

Do you accept the 2 product licenses (yes/no)?

DEBUG: Attempting to request interactive prompt on TTY
> yes

Persisting 2 product licenses...
INFO: Persisting a license for Chef Infra Client at path /etc/chef/accepted_licenses/chef_infra_client
INFO: Persisting a license for Chef InSpec at path /etc/chef/accepted_licenses/inspec
✔ 2 product licenses persisted.

+---------------------------------------------+
Connecting to 172.31.7.17 using ssh
DEBUG: [SSH] opening connection to ec2-user@172.31.7.17
DEBUG: [SSH] using options {:user_known_hosts_file=>"/dev/null", :port=>22, :compression=>false, :compression_level=>0, :keepalive=>true, :keepalive_interval=>60, :timeout=>60, :auth_methods=>["none", "publickey"], :keys_only=>true, :keys=>["id_rsa.pem--sudo"], :password=>"<hidden>", :forward_agent=>false, :non_interactive=>true, :append_all_supported_algorithms=>true, :config=>true, :verify_host_key=>:always}
The authenticity of host '172.31.7.17 ()' can't be established.
fingerprint is SHA256:CcD320D3XTYvqTu2qv4hfSKREhPrMoGgBZldSp1nGZc.

Are you sure you want to continue connecting
? (Y/N) Y
Connecting to 172.31.7.17 using ssh
DEBUG: [SSH] opening connection to ec2-user@172.31.7.17
DEBUG: [SSH] using options {:user_known_hosts_file=>"/dev/null", :port=>22, :compression=>false, :compression_level=>0, :keepalive=>true, :keepalive_interval=>60, :timeout=>60, :auth_methods=>["none", "publickey"], :keys_only=>true, :keys=>["id_rsa.pem--sudo"], :password=>"<hidden>", :forward_agent=>false, :non_interactive=>true, :append_all_supported_algorithms=>true, :config=>true, :verify_host_key=>:accept_new}
INFO: [SSH] connection failed, retrying in 1 seconds (#<Net::SSH::AuthenticationFailed: Authentication failed for user ec2-user@172.31.7.17>)
DEBUG: [SSH] opening connection to ec2-user@172.31.7.17
DEBUG: [SSH] using options {:user_known_hosts_file=>"/dev/null", :port=>22, :compression=>false, :compression_level=>0, :keepalive=>true, :keepalive_interval=>60, :timeout=>60, :auth_methods=>["none", "publickey"], :keys_only=>true, :keys=>["id_rsa.pem--sudo"], :password=>"<hidden>", :forward_agent=>false, :non_interactive=>true, :append_all_supported_algorithms=>true, :config=>true, :verify_host_key=>:accept_new}
INFO: [SSH] connection failed, retrying in 1 seconds (#<Net::SSH::AuthenticationFailed: Authentication failed for user ec2-user@172.31.7.17>)
DEBUG: [SSH] opening connection to ec2-user@172.31.7.17
DEBUG: [SSH] using options {:user_known_hosts_file=>"/dev/null", :port=>22, :compression=>false, :compression_level=>0, :keepalive=>true, :keepalive_interval=>60, :timeout=>60, :auth_methods=>["none", "publickey"], :keys_only=>true, :keys=>["id_rsa.pem--sudo"], :password=>"<hidden>", :forward_agent=>false, :non_interactive=>true, :append_all_supported_algorithms=>true, :config=>true, :verify_host_key=>:accept_new}
INFO: [SSH] connection failed, retrying in 1 seconds (#<Net::SSH::AuthenticationFailed: Authentication failed for user ec2-user@172.31.7.17>)
DEBUG: [SSH] opening connection to ec2-user@172.31.7.17
DEBUG: [SSH] using options {:user_known_hosts_file=>"/dev/null", :port=>22, :compression=>false, :compression_level=>0, :keepalive=>true, :keepalive_interval=>60, :timeout=>60, :auth_methods=>["none", "publickey"], :keys_only=>true, :keys=>["id_rsa.pem--sudo"], :password=>"<hidden>", :forward_agent=>false, :non_interactive=>true, :append_all_supported_algorithms=>true, :config=>true, :verify_host_key=>:accept_new}
INFO: [SSH] connection failed, retrying in 1 seconds (#<Net::SSH::AuthenticationFailed: Authentication failed for user ec2-user@172.31.7.17>)
DEBUG: [SSH] opening connection to ec2-user@172.31.7.17
DEBUG: [SSH] using options {:user_known_hosts_file=>"/dev/null", :port=>22, :compression=>false, :compression_level=>0, :keepalive=>true, :keepalive_interval=>60, :timeout=>60, :auth_methods=>["none", "publickey"], :keys_only=>true, :keys=>["id_rsa.pem--sudo"], :password=>"<hidden>", :forward_agent=>false, :non_interactive=>true, :append_all_supported_algorithms=>true, :config=>true, :verify_host_key=>:accept_new}
WARN: [SSH] connection failed, terminating (#<Net::SSH::AuthenticationFailed: Authentication failed for user ec2-user@172.31.7.17>)
WARNING: Failed to authenticate ec2-user to 172.31.7.17 - trying password auth
Enter password for ec2-user@172.31.7.17:
Connecting to 172.31.7.17 using ssh
DEBUG: [SSH] opening connection to ec2-user@172.31.7.17
DEBUG: [SSH] using options {:user_known_hosts_file=>"/dev/null", :port=>22, :compression=>false, :compression_level=>0, :keepalive=>true, :keepalive_interval=>60, :timeout=>60, :auth_methods=>["none", "password", "keyboard-interactive"], :keys_only=>nil, :keys=>[], :password=>"<hidden>", :forward_agent=>false,:non_interactive=>false, :append_all_supported_algorithms=>true, :config=>true, :verify_host_key=>:accept_new}
INFO: [SSH] connection failed, retrying in 1 seconds (#<Net::SSH::AuthenticationFailed: Authentication failed for user ec2-user@172.31.7.17>)
DEBUG: [SSH] opening connection to ec2-user@172.31.7.17
DEBUG: [SSH] using options {:user_known_hosts_file=>"/dev/null", :port=>22, :compression=>false, :compression_level=>0, :keepalive=>true, :keepalive_interval=>60, :timeout=>60, :auth_methods=>["none", "password", "keyboard-interactive"], :keys_only=>nil, :keys=>[], :password=>"<hidden>", :forward_agent=>false,:non_interactive=>false, :append_all_supported_algorithms=>true, :config=>true, :verify_host_key=>:accept_new}
INFO: [SSH] connection failed, retrying in 1 seconds (#<Net::SSH::AuthenticationFailed: Authentication failed for user ec2-user@172.31.7.17>)
DEBUG: [SSH] opening connection to ec2-user@172.31.7.17
DEBUG: [SSH] using options {:user_known_hosts_file=>"/dev/null", :port=>22, :compression=>false, :compression_level=>0, :keepalive=>true, :keepalive_interval=>60, :timeout=>60, :auth_methods=>["none", "password", "keyboard-interactive"], :keys_only=>nil, :keys=>[], :password=>"<hidden>", :forward_agent=>false,:non_interactive=>false, :append_all_supported_algorithms=>true, :config=>true, :verify_host_key=>:accept_new}
INFO: [SSH] connection failed, retrying in 1 seconds (#<Net::SSH::AuthenticationFailed: Authentication failed for user ec2-user@172.31.7.17>)
DEBUG: [SSH] opening connection to ec2-user@172.31.7.17
DEBUG: [SSH] using options {:user_known_hosts_file=>"/dev/null", :port=>22, :compression=>false, :compression_level=>0, :keepalive=>true, :keepalive_interval=>60, :timeout=>60, :auth_methods=>["none", "password", "keyboard-interactive"], :keys_only=>nil, :keys=>[], :password=>"<hidden>", :forward_agent=>false,:non_interactive=>false, :append_all_supported_algorithms=>true, :config=>true, :verify_host_key=>:accept_new}
INFO: [SSH] connection failed, retrying in 1 seconds (#<Net::SSH::AuthenticationFailed: Authentication failed for user ec2-user@172.31.7.17>)
DEBUG: [SSH] opening connection to ec2-user@172.31.7.17
DEBUG: [SSH] using options {:user_known_hosts_file=>"/dev/null", :port=>22, :compression=>false, :compression_level=>0, :keepalive=>true, :keepalive_interval=>60, :timeout=>60, :auth_methods=>["none", "password", "keyboard-interactive"], :keys_only=>nil, :keys=>[], :password=>"<hidden>", :forward_agent=>false,:non_interactive=>false, :append_all_supported_algorithms=>true, :config=>true, :verify_host_key=>:accept_new}
WARN: [SSH] connection failed, terminating (#<Net::SSH::AuthenticationFailed: Authentication failed for user ec2-user@172.31.7.17>)
/opt/chef-workstation/embedded/lib/ruby/gems/3.1.0/gems/train-core-3.12.13/lib/train/transports/ssh_connection.rb:217:in `rescue in establish_connection': SSH session could not be established (Train::Transports::SSHFailed)
        from /opt/chef-workstation/embedded/lib/ruby/gems/3.1.0/gems/train-core-3.12.13/lib/train/transports/ssh_connection.rb:206:in `establish_connection'
        from /opt/chef-workstation/embedded/lib/ruby/gems/3.1.0/gems/train-core-3.12.13/lib/train/transports/ssh_connection.rb:292:in `session'
        from /opt/chef-workstation/embedded/lib/ruby/gems/3.1.0/gems/train-core-3.12.13/lib/train/transports/ssh_connection.rb:250:in `run_command_via_connection'
        from /opt/chef-workstation/embedded/lib/ruby/gems/3.1.0/gems/train-core-3.12.13/lib/train/plugins/base_connection.rb:164:in `run_command'
        from /opt/chef-workstation/embedded/lib/ruby/gems/3.1.0/gems/train-core-3.12.13/lib/train/platforms/detect/helpers/os_windows.rb:9:in `check_cmd'
        from /opt/chef-workstation/embedded/lib/ruby/gems/3.1.0/gems/train-core-3.12.13/lib/train/platforms/detect/helpers/os_windows.rb:4:in `detect_windows'
        from /opt/chef-workstation/embedded/lib/ruby/gems/3.1.0/gems/train-core-3.12.13/lib/train/platforms/detect/specifications/os.rb:20:in `block in load_windows'
        from /opt/chef-workstation/embedded/lib/ruby/gems/3.1.0/gems/train-core-3.12.13/lib/train/platforms/detect/scanner.rb:44:in `instance_eval'
        from /opt/chef-workstation/embedded/lib/ruby/gems/3.1.0/gems/train-core-3.12.13/lib/train/platforms/detect/scanner.rb:44:in `block in scan_children'
        from /opt/chef-workstation/embedded/lib/ruby/gems/3.1.0/gems/train-core-3.12.13/lib/train/platforms/detect/scanner.rb:43:in `each'
        from /opt/chef-workstation/embedded/lib/ruby/gems/3.1.0/gems/train-core-3.12.13/lib/train/platforms/detect/scanner.rb:43:in `scan_children'
        from /opt/chef-workstation/embedded/lib/ruby/gems/3.1.0/gems/train-core-3.12.13/lib/train/platforms/detect/scanner.rb:31:in `block in scan'
        from /opt/chef-workstation/embedded/lib/ruby/gems/3.1.0/gems/train-core-3.12.13/lib/train/platforms/detect/scanner.rb:25:in `each'
        from /opt/chef-workstation/embedded/lib/ruby/gems/3.1.0/gems/train-core-3.12.13/lib/train/platforms/detect/scanner.rb:25:in `scan'
        from /opt/chef-workstation/embedded/lib/ruby/gems/3.1.0/gems/train-core-3.12.13/lib/train/platforms/detect.rb:7:in `scan'
        from /opt/chef-workstation/embedded/lib/ruby/gems/3.1.0/gems/train-core-3.12.13/lib/train/plugins/base_connection.rb:135:in `platform'
        from /opt/chef-workstation/embedded/lib/ruby/gems/3.1.0/gems/train-core-3.12.13/lib/train/extras/command_wrapper.rb:190:in `load'
        from /opt/chef-workstation/embedded/lib/ruby/gems/3.1.0/gems/train-core-3.12.13/lib/train/transports/ssh_connection.rb:60:in `initialize'
        from /opt/chef-workstation/embedded/lib/ruby/gems/3.1.0/gems/train-core-3.12.13/lib/train/transports/ssh.rb:291:in `new'
        from /opt/chef-workstation/embedded/lib/ruby/gems/3.1.0/gems/train-core-3.12.13/lib/train/transports/ssh.rb:291:in `create_new_connection'
        from /opt/chef-workstation/embedded/lib/ruby/gems/3.1.0/gems/train-core-3.12.13/lib/train/transports/ssh.rb:86:in `connection'
        from /opt/chef-workstation/embedded/lib/ruby/gems/3.1.0/gems/knife-18.8.13/lib/chef/knife/bootstrap/train_connector.rb:57:in `connection'
        from /opt/chef-workstation/embedded/lib/ruby/gems/3.1.0/gems/knife-18.8.13/lib/chef/knife/bootstrap/train_connector.rb:70:in `connect!'
        from /opt/chef-workstation/embedded/lib/ruby/gems/3.1.0/gems/knife-18.8.13/lib/chef/knife/bootstrap.rb:709:in `do_connect'
        from /opt/chef-workstation/embedded/lib/ruby/gems/3.1.0/gems/knife-18.8.13/lib/chef/knife/bootstrap.rb:642:in `connect!'
        from /opt/chef-workstation/embedded/lib/ruby/gems/3.1.0/gems/knife-18.8.13/lib/chef/knife/bootstrap.rb:575:in `run'
        from /opt/chef-workstation/embedded/lib/ruby/gems/3.1.0/gems/knife-18.8.13/lib/chef/knife.rb:498:in `block in run_with_pretty_exceptions'
        from /opt/chef-workstation/embedded/lib/ruby/gems/3.1.0/gems/chef-18.8.11/lib/chef/local_mode.rb:42:in `with_server_connectivity'
        from /opt/chef-workstation/embedded/lib/ruby/gems/3.1.0/gems/knife-18.8.13/lib/chef/knife.rb:497:in `run_with_pretty_exceptions'
        from /opt/chef-workstation/embedded/lib/ruby/gems/3.1.0/gems/knife-18.8.13/lib/chef/knife.rb:233:in `run'
        from /opt/chef-workstation/embedded/lib/ruby/gems/3.1.0/gems/knife-18.8.13/lib/chef/application/knife.rb:168:in `run'
        from /opt/chef-workstation/embedded/lib/ruby/gems/3.1.0/gems/knife-18.8.13/bin/knife:24:in `<top (required)>'
        from /usr/bin/knife:455:in `load'
        from /usr/bin/knife:455:in `<main>'
/opt/chef-workstation/embedded/lib/ruby/gems/3.1.0/gems/net-ssh-7.3.0/lib/net/ssh.rb:275:in `start': Authentication failed for user ec2-user@172.31.7.17 (Net::SSH::AuthenticationFailed)
        from /opt/chef-workstation/embedded/lib/ruby/gems/3.1.0/gems/train-core-3.12.13/lib/train/transports/ssh_connection.rb:213:in `establish_connection'
        from /opt/chef-workstation/embedded/lib/ruby/gems/3.1.0/gems/train-core-3.12.13/lib/train/transports/ssh_connection.rb:292:in `session'
        from /opt/chef-workstation/embedded/lib/ruby/gems/3.1.0/gems/train-core-3.12.13/lib/train/transports/ssh_connection.rb:250:in `run_command_via_connection'
        from /opt/chef-workstation/embedded/lib/ruby/gems/3.1.0/gems/train-core-3.12.13/lib/train/plugins/base_connection.rb:164:in `run_command'
        from /opt/chef-workstation/embedded/lib/ruby/gems/3.1.0/gems/train-core-3.12.13/lib/train/platforms/detect/helpers/os_windows.rb:9:in `check_cmd'
        from /opt/chef-workstation/embedded/lib/ruby/gems/3.1.0/gems/train-core-3.12.13/lib/train/platforms/detect/helpers/os_windows.rb:4:in `detect_windows'
        from /opt/chef-workstation/embedded/lib/ruby/gems/3.1.0/gems/train-core-3.12.13/lib/train/platforms/detect/specifications/os.rb:20:in `block in load_windows'
        from /opt/chef-workstation/embedded/lib/ruby/gems/3.1.0/gems/train-core-3.12.13/lib/train/platforms/detect/scanner.rb:44:in `instance_eval'
        from /opt/chef-workstation/embedded/lib/ruby/gems/3.1.0/gems/train-core-3.12.13/lib/train/platforms/detect/scanner.rb:44:in `block in scan_children'
        from /opt/chef-workstation/embedded/lib/ruby/gems/3.1.0/gems/train-core-3.12.13/lib/train/platforms/detect/scanner.rb:43:in `each'
        from /opt/chef-workstation/embedded/lib/ruby/gems/3.1.0/gems/train-core-3.12.13/lib/train/platforms/detect/scanner.rb:43:in `scan_children'
        from /opt/chef-workstation/embedded/lib/ruby/gems/3.1.0/gems/train-core-3.12.13/lib/train/platforms/detect/scanner.rb:31:in `block in scan'
        from /opt/chef-workstation/embedded/lib/ruby/gems/3.1.0/gems/train-core-3.12.13/lib/train/platforms/detect/scanner.rb:25:in `each'
        from /opt/chef-workstation/embedded/lib/ruby/gems/3.1.0/gems/train-core-3.12.13/lib/train/platforms/detect/scanner.rb:25:in `scan'
        from /opt/chef-workstation/embedded/lib/ruby/gems/3.1.0/gems/train-core-3.12.13/lib/train/platforms/detect.rb:7:in `scan'
        from /opt/chef-workstation/embedded/lib/ruby/gems/3.1.0/gems/train-core-3.12.13/lib/train/plugins/base_connection.rb:135:in `platform'
        from /opt/chef-workstation/embedded/lib/ruby/gems/3.1.0/gems/train-core-3.12.13/lib/train/extras/command_wrapper.rb:190:in `load'
        from /opt/chef-workstation/embedded/lib/ruby/gems/3.1.0/gems/train-core-3.12.13/lib/train/transports/ssh_connection.rb:60:in `initialize'
        from /opt/chef-workstation/embedded/lib/ruby/gems/3.1.0/gems/train-core-3.12.13/lib/train/transports/ssh.rb:291:in `new'
        from /opt/chef-workstation/embedded/lib/ruby/gems/3.1.0/gems/train-core-3.12.13/lib/train/transports/ssh.rb:291:in `create_new_connection'
        from /opt/chef-workstation/embedded/lib/ruby/gems/3.1.0/gems/train-core-3.12.13/lib/train/transports/ssh.rb:86:in `connection'
        from /opt/chef-workstation/embedded/lib/ruby/gems/3.1.0/gems/knife-18.8.13/lib/chef/knife/bootstrap/train_connector.rb:57:in `connection'
        from /opt/chef-workstation/embedded/lib/ruby/gems/3.1.0/gems/knife-18.8.13/lib/chef/knife/bootstrap/train_connector.rb:70:in `connect!'
        from /opt/chef-workstation/embedded/lib/ruby/gems/3.1.0/gems/knife-18.8.13/lib/chef/knife/bootstrap.rb:709:in `do_connect'
        from /opt/chef-workstation/embedded/lib/ruby/gems/3.1.0/gems/knife-18.8.13/lib/chef/knife/bootstrap.rb:642:in `connect!'
        from /opt/chef-workstation/embedded/lib/ruby/gems/3.1.0/gems/knife-18.8.13/lib/chef/knife/bootstrap.rb:575:in `run'
        from /opt/chef-workstation/embedded/lib/ruby/gems/3.1.0/gems/knife-18.8.13/lib/chef/knife.rb:498:in `block in run_with_pretty_exceptions'
        from /opt/chef-workstation/embedded/lib/ruby/gems/3.1.0/gems/chef-18.8.11/lib/chef/local_mode.rb:42:in `with_server_connectivity'
        from /opt/chef-workstation/embedded/lib/ruby/gems/3.1.0/gems/knife-18.8.13/lib/chef/knife.rb:497:in `run_with_pretty_exceptions'
        from /opt/chef-workstation/embedded/lib/ruby/gems/3.1.0/gems/knife-18.8.13/lib/chef/knife.rb:233:in `run'
        from /opt/chef-workstation/embedded/lib/ruby/gems/3.1.0/gems/knife-18.8.13/lib/chef/application/knife.rb:168:in `run'
        from /opt/chef-workstation/embedded/lib/ruby/gems/3.1.0/gems/knife-18.8.13/bin/knife:24:in `<top (required)>'
        from /usr/bin/knife:455:in `load'
        from /usr/bin/knife:455:in `<main>'
[root@ip-172-31-0-253 chef-repo]#
[root@ip-172-31-0-253 chef-repo]# knife bootstrap 172.31.7.17 -N Webserver --ssh-user ec2-user --ssh-identity-file id_rsa.pem --sudo -VV
--ssh-user: This flag is deprecated. Use -U/--connection-user instead.
INFO: Using configuration from /home/ec2-user/chef-repo/.chef/config.rb
DEBUG: Checking if we need to accept Chef license to bootstrap node
DEBUG: Reading products and relationships...
DEBUG: Successfully read products and relationships
DEBUG: License acceptance required for chef version: 18
DEBUG: Searching for the following licenses: ["infra-client", "inspec"]
DEBUG: Found license chef_infra_client at /etc/chef/accepted_licenses/chef_infra_client
DEBUG: Found license inspec at /etc/chef/accepted_licenses/inspec
DEBUG: Missing licenses remaining: []
DEBUG: All licenses present
Connecting to 172.31.7.17 using ssh
DEBUG: [SSH] opening connection to ec2-user@172.31.7.17
DEBUG: [SSH] using options {:user_known_hosts_file=>"/dev/null", :port=>22, :compression=>false, :compression_level=>0, :keepalive=>true, :keepalive_interval=>60, :timeout=>60, :auth_methods=>["none", "publickey"], :keys_only=>true, :keys=>["id_rsa.pem"], :password=>"<hidden>", :forward_agent=>false, :non_interactive=>true, :append_all_supported_algorithms=>true, :config=>true, :verify_host_key=>:always}
The authenticity of host '172.31.7.17 ()' can't be established.
fingerprint is SHA256:CcD320D3XTYvqTu2qv4hfSKREhPrMoGgBZldSp1nGZc.

Are you sure you want to continue connecting
? (Y/N) Y
Connecting to 172.31.7.17 using ssh
DEBUG: [SSH] opening connection to ec2-user@172.31.7.17
DEBUG: [SSH] using options {:user_known_hosts_file=>"/dev/null", :port=>22, :compression=>false, :compression_level=>0, :keepalive=>true, :keepalive_interval=>60, :timeout=>60, :auth_methods=>["none", "publickey"], :keys_only=>true, :keys=>["id_rsa.pem"], :password=>"<hidden>", :forward_agent=>false, :non_interactive=>true, :append_all_supported_algorithms=>true, :config=>true, :verify_host_key=>:accept_new}
DEBUG: [SSH] ec2-user@172.31.7.17 cmd = cmd.exe /c ver
DEBUG: [SSH] ec2-user@172.31.7.17 cmd = Get-WmiObject Win32_OperatingSystem | Select Caption,Version | ConvertTo-Json
DEBUG: [SSH] ec2-user@172.31.7.17 cmd = uname -s
DEBUG: [SSH] ec2-user@172.31.7.17 cmd = uname -m
DEBUG: [SSH] ec2-user@172.31.7.17 cmd = test -f /etc/debian_version
DEBUG: [SSH] ec2-user@172.31.7.17 cmd = test -f /etc/os-release && cat /etc/os-release
DEBUG: [SSH] ec2-user@172.31.7.17 cmd = show version
DEBUG: [SSH] ec2-user@172.31.7.17 cmd = test -f /etc/lsb-release && cat /etc/lsb-release
DEBUG: [SSH] ec2-user@172.31.7.17 cmd = test -f /usr/bin/lsb-release && cat /usr/bin/lsb-release
DEBUG: [SSH] ec2-user@172.31.7.17 cmd = test -f /etc/oracle-release && cat /etc/oracle-release
DEBUG: [SSH] ec2-user@172.31.7.17 cmd = test -f /etc/enterprise-release && cat /etc/enterprise-release
DEBUG: [SSH] ec2-user@172.31.7.17 cmd = test -f /etc/parallels-release && cat /etc/parallels-release
DEBUG: [SSH] ec2-user@172.31.7.17 cmd = test -f /etc/system-release && cat /etc/system-release
DEBUG: [SSH] ec2-user@172.31.7.17 cmd = sh -c '(sudo echo) < /dev/null'
DEBUG: [SSH] ec2-user@172.31.7.17 cmd = sudo echo '[SSH] Established'
Creating new client for Webserver
Creating new node for Webserver
DEBUG: [SSH] ec2-user@172.31.7.17 cmd = sudo mkdir -p '/tmp/chef_DHslcu'
DEBUG: [SSH] ec2-user@172.31.7.17 cmd = sudo chown ec2-user '/tmp/chef_DHslcu'
Bootstrapping 172.31.7.17
DEBUG: [SSH] ec2-user@172.31.7.17 cmd = sudo sh /tmp/chef_DHslcu/bootstrap.sh
 [172.31.7.17] -----> Installing Chef Omnibus (stable/latest)
downloading https://omnitruck.chef.io/chef/install.sh
  to file /tmp/install.sh.3521/install.sh
trying wget...
 [172.31.7.17] amazon 2023 x86_64
Getting information for chef stable latest for amazon...
downloading https://omnitruck.chef.io/stable/chef/metadata?v=latest&p=amazon&pv=2023&m=x86_64
  to file /tmp/install.sh.3525/metadata.txt
 [172.31.7.17] trying wget...
 [172.31.7.17] sha1     262cc97e8c66f6cd1b865190fc17d725fee68aac
sha256  8bcb6286938b8f8df08b6229919e973f95a74a70e1122e3df194433f289fc534
url     https://packages.chef.io/files/stable/chef/18.8.11/amazon/2023/chef-18.8.11-1.amazon2023.x86_64.rpm
version 18.8.11
 [172.31.7.17]
 [172.31.7.17] downloaded metadata file looks valid...
 [172.31.7.17] downloading https://packages.chef.io/files/stable/chef/18.8.11/amazon/2023/chef-18.8.11-1.amazon2023.x86_64.rpm
  to file /tmp/install.sh.3525/chef-18.8.11-1.amazon2023.x86_64.rpm
 [172.31.7.17] trying wget...
 [172.31.7.17] Comparing checksum with sha256sum...
 [172.31.7.17] Installing chef latest
installing with rpm...
 [172.31.7.17] warning:
 [172.31.7.17] /tmp/install.sh.3525/chef-18.8.11-1.amazon2023.x86_64.rpm: Header V4 DSA/SHA256 Signature, key ID 83ef826a: NOKEY
 [172.31.7.17] Verifying...
 [172.31.7.17] ########################################
 [172.31.7.17]
 [172.31.7.17] Preparing...
 [172.31.7.17] ########################################
 [172.31.7.17]
 [172.31.7.17] Updating / installing...
chef-18.8.11-1.amazon2023
 [172.31.7.17] #
 [172.31.7.17] #
 [172.31.7.17] #
 [172.31.7.17] #
 [172.31.7.17] #
 [172.31.7.17] #
 [172.31.7.17] #
 [172.31.7.17] #
 [172.31.7.17] #
 [172.31.7.17] #
 [172.31.7.17] #
 [172.31.7.17] #
 [172.31.7.17] #
 [172.31.7.17] #
 [172.31.7.17] #
 [172.31.7.17] #
 [172.31.7.17] #
 [172.31.7.17] #
 [172.31.7.17] #
 [172.31.7.17] #
 [172.31.7.17] #
 [172.31.7.17] #
 [172.31.7.17] #
 [172.31.7.17] #
 [172.31.7.17] #
 [172.31.7.17] #
 [172.31.7.17] #
 [172.31.7.17] #
 [172.31.7.17] #
 [172.31.7.17] #
 [172.31.7.17] #
 [172.31.7.17] #
 [172.31.7.17] #
 [172.31.7.17] #
 [172.31.7.17] #
 [172.31.7.17] #
 [172.31.7.17] #
 [172.31.7.17] #
 [172.31.7.17] #
 [172.31.7.17] #
 [172.31.7.17]
 [172.31.7.17] Thank you for installing Chef Infra Client! For help getting started visit https://learn.chef.io
 [172.31.7.17] Starting the first Chef Infra Client Client run...
 [172.31.7.17] [2025-10-08T09:13:03+00:00] DEBUG: Reading products and relationships...
 [172.31.7.17] [2025-10-08T09:13:03+00:00] DEBUG: Successfully read products and relationships
 [172.31.7.17] [2025-10-08T09:13:03+00:00] DEBUG: Searching for the following licenses: ["infra-client", "inspec"]
 [172.31.7.17] [2025-10-08T09:13:03+00:00] DEBUG: Missing licenses remaining: ["infra-client", "inspec"]
 [172.31.7.17] [2025-10-08T09:13:03+00:00] INFO: Persisting a license for Chef Infra Client at path /etc/chef/accepted_licenses/chef_infra_client
 [172.31.7.17] [2025-10-08T09:13:03+00:00] INFO: Persisting a license for Chef InSpec at path /etc/chef/accepted_licenses/inspec
 [172.31.7.17] +---------------------------------------------+
✔ 2 product licenses accepted.
+---------------------------------------------+
 [172.31.7.17] [2025-10-08T09:13:03+00:00] DEBUG: Running Ohai with the following configuration: {:logger=>Chef::Log}
 [172.31.7.17] Chef Infra Client, version 18.8.11
 [172.31.7.17]
 [172.31.7.17] Patents: https://www.chef.io/patents
 [172.31.7.17]
 [172.31.7.17] Infra Phase starting
 [172.31.7.17]
 [172.31.7.17] [2025-10-08T09:13:03+00:00] INFO: *** Chef Infra Client 18.8.11 ***
 [172.31.7.17] [2025-10-08T09:13:03+00:00] INFO: Platform: x86_64-linux
 [172.31.7.17] [2025-10-08T09:13:03+00:00] INFO: Chef-client pid: 3596
 [172.31.7.17] [2025-10-08T09:13:03+00:00] DEBUG: Chef-client request_id: bffdc228-b3ab-4742-8ac2-1d794621e027
 [172.31.7.17] [2025-10-08T09:13:03+00:00] DEBUG: Running Ohai with the following configuration: {:logger=>Chef::Log}
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: Plugin Network: Parsing ethtool output: Features for enX0:
rx-checksumming: on [fixed]
tx-checksumming: on
        tx-checksum-ipv4: on [fixed]
        tx-checksum-ip-generic: off [fixed]
        tx-checksum-ipv6: on
        tx-checksum-fcoe-crc: off [fixed]
        tx-checksum-sctp: off [fixed]
scatter-gather: on
        tx-scatter-gather: on
        tx-scatter-gather-fraglist: off [fixed]
tcp-segmentation-offload: on
        tx-tcp-segmentation: on
        tx-tcp-ecn-segmentation: off [fixed]
        tx-tcp-mangleid-segmentation: off
        tx-tcp6-segmentation: on
generic-segmentation-offload: on
generic-receive-offload: on
large-receive-offload: off [fixed]
rx-vlan-offload: off [fixed]
tx-vlan-offload: off [fixed]
ntuple-filters: off [fixed]
receive-hashing: off [fixed]
highdma: off [fixed]
rx-vlan-filter: off [fixed]
vlan-challenged: off [fixed]
tx-lockless: off [fixed]
netns-local: off [fixed]
tx-gso-robust: on [fixed]
tx-fcoe-segmentation: off [fixed]
tx-gre-segmentation: off [fixed]
tx-gre-csum-segmentation: off [fixed]
tx-ipxip4-segmentation: off [fixed]
tx-ipxip6-segmentation: off [fixed]
tx-udp_tnl-segmentation: off [fixed]
tx-udp_tnl-csum-segmentation: off [fixed]
tx-gso-partial: off [fixed]
tx-tunnel-remcsum-segmentation: off [fixed]
tx-sctp-segmentation: off [fixed]
tx-esp-segmentation: off [fixed]
tx-udp-segmentation: off [fixed]
tx-gso-list: off [fixed]
fcoe-mtu: off [fixed]
tx-nocache-copy: off
loopback: off [fixed]
rx-fcs: off [fixed]
rx-all: off [fixed]
tx-vlan-stag-hw-insert: off [fixed]
rx-vlan-stag-hw-parse: off [fixed]
rx-vlan-stag-filter: off [fixed]
l2-fwd-offload: off [fixed]
hw-tc-offload: off [fixed]
esp-hw-offload: off [fixed]
esp-tx-csum-hw-offload: off [fixed]
rx-udp_tunnel-port-offload: off [fixed]
tls-hw-tx-offload: off [fixed]
tls-hw-rx-offload: off [fixed]
rx-gro-hw: off [fixed]
tls-hw-record: off [fixed]
rx-gro-list: off
macsec-hw-offload: off [fixed]
rx-udp-gro-forwarding: off
hsr-tag-ins-offload: off [fixed]
hsr-tag-rm-offload: off [fixed]
hsr-fwd-offload: off [fixed]
hsr-dup-offload: off [fixed]

 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T09:13:04+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T09:13:05+00:00] ERROR: shard_seed: Failed to get dmi property serial_number: is dmidecode installed?
 [172.31.7.17] [2025-10-08T09:13:05+00:00] DEBUG: Plugin Zpools: Could not shell_out "zpool list -H -o name,size,alloc,free,cap,dedup,health,version". Skipping plugin.
 [172.31.7.17] [2025-10-08T09:13:05+00:00] DEBUG: opening connection to ip-172-31-15-253.ap-south-1.compute.internal:443...
 [172.31.7.17] [2025-10-08T09:13:05+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T09:13:05+00:00] DEBUG: starting SSL for ip-172-31-15-253.ap-south-1.compute.internal:443...
 [172.31.7.17] [2025-10-08T09:13:05+00:00] DEBUG: SSL established, protocol: TLSv1.2, cipher: ECDHE-RSA-AES256-GCM-SHA384
 [172.31.7.17] [2025-10-08T09:13:05+00:00] DEBUG: Extracting run list from JSON attributes provided on command line
 [172.31.7.17] [2025-10-08T09:13:05+00:00] INFO: Setting the run_list to [] from CLI options
 [172.31.7.17] [2025-10-08T09:13:05+00:00] DEBUG: Applying attributes from json file
 [172.31.7.17] [2025-10-08T09:13:05+00:00] DEBUG: Platform is amazon version 2023
 [172.31.7.17] [2025-10-08T09:13:05+00:00] INFO: Run List is []
 [172.31.7.17] [2025-10-08T09:13:05+00:00] INFO: Run List expands to []
 [172.31.7.17] [2025-10-08T09:13:05+00:00] INFO: Starting Chef Infra Client Run for Webserver
 [172.31.7.17] [2025-10-08T09:13:05+00:00] INFO: Running start handlers
 [172.31.7.17] [2025-10-08T09:13:05+00:00] INFO: Start handlers complete.
 [172.31.7.17] [2025-10-08T09:13:05+00:00] DEBUG: opening connection to ip-172-31-15-253.ap-south-1.compute.internal:443...
 [172.31.7.17] [2025-10-08T09:13:05+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T09:13:05+00:00] DEBUG: starting SSL for ip-172-31-15-253.ap-south-1.compute.internal:443...
 [172.31.7.17] [2025-10-08T09:13:05+00:00] DEBUG: SSL established, protocol: TLSv1.2, cipher: ECDHE-RSA-AES256-GCM-SHA384
 [172.31.7.17] [2025-10-08T09:13:05+00:00] DEBUG: Error while reporting run start to Data Collector. URL: https://ip-172-31-15-253.ap-south-1.compute.internal/organizations/dropmail/data-collector Exception: 404 -- 404 "Not Found"  (This is normal if you do not have Chef Automate)
 [172.31.7.17] [2025-10-08T09:13:05+00:00] DEBUG: opening connection to ip-172-31-15-253.ap-south-1.compute.internal:443...
 [172.31.7.17] [2025-10-08T09:13:05+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T09:13:05+00:00] DEBUG: starting SSL for ip-172-31-15-253.ap-south-1.compute.internal:443...
 [172.31.7.17] [2025-10-08T09:13:05+00:00] DEBUG: SSL established, protocol: TLSv1.2, cipher: ECDHE-RSA-AES256-GCM-SHA384
 [172.31.7.17] Resolving cookbooks for run list: []
 [172.31.7.17]
 [172.31.7.17] [2025-10-08T09:13:05+00:00] DEBUG: opening connection to ip-172-31-15-253.ap-south-1.compute.internal:443...
 [172.31.7.17] [2025-10-08T09:13:05+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T09:13:05+00:00] DEBUG: starting SSL for ip-172-31-15-253.ap-south-1.compute.internal:443...
 [172.31.7.17] [2025-10-08T09:13:05+00:00] DEBUG: SSL established, protocol: TLSv1.2, cipher: ECDHE-RSA-AES256-GCM-SHA384
 [172.31.7.17] [2025-10-08T09:13:05+00:00] INFO: Loading cookbooks []
 [172.31.7.17] Synchronizing cookbooks:
 [172.31.7.17]
 [172.31.7.17] Installing cookbook gem dependencies:
Compiling cookbooks...
[2025-10-08T09:13:05+00:00] DEBUG: Cookbooks to compile: []
 [172.31.7.17] Loading Chef InSpec profile files:
 [172.31.7.17]
 [172.31.7.17] Loading Chef InSpec input files:
 [172.31.7.17]
 [172.31.7.17] Loading Chef InSpec waiver files:
 [172.31.7.17]
 [172.31.7.17] [2025-10-08T09:13:06+00:00] WARN: Node Webserver has an empty run list.
 [172.31.7.17] [2025-10-08T09:13:06+00:00] DEBUG: opening connection to ip-172-31-15-253.ap-south-1.compute.internal:443...
 [172.31.7.17] [2025-10-08T09:13:06+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T09:13:06+00:00] DEBUG: starting SSL for ip-172-31-15-253.ap-south-1.compute.internal:443...
 [172.31.7.17] [2025-10-08T09:13:06+00:00] DEBUG: SSL established, protocol: TLSv1.2, cipher: ECDHE-RSA-AES256-GCM-SHA384
 [172.31.7.17] Converging 0 resources
 [172.31.7.17]
 [172.31.7.17] [2025-10-08T09:13:06+00:00] DEBUG: Chef::Compliance::Runner#enabled?: Chef InSpec profiles? false
 [172.31.7.17] [2025-10-08T09:13:06+00:00] DEBUG: Chef::Compliance::Runner#enabled?: audit cookbook?
 [172.31.7.17] [2025-10-08T09:13:06+00:00] DEBUG: Chef::Compliance::Runner#enabled?: compliance phase attr? false
 [172.31.7.17] [2025-10-08T09:13:06+00:00] DEBUG: Converging node Webserver
 [172.31.7.17] [2025-10-08T09:13:06+00:00] DEBUG: Saving the current state of node Webserver
 [172.31.7.17] [2025-10-08T09:13:06+00:00] DEBUG: opening connection to ip-172-31-15-253.ap-south-1.compute.internal:443...
 [172.31.7.17] [2025-10-08T09:13:06+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T09:13:06+00:00] DEBUG: starting SSL for ip-172-31-15-253.ap-south-1.compute.internal:443...
 [172.31.7.17] [2025-10-08T09:13:06+00:00] DEBUG: SSL established, protocol: TLSv1.2, cipher: ECDHE-RSA-AES256-GCM-SHA384
 [172.31.7.17] [2025-10-08T09:13:06+00:00] INFO: Chef Infra Client Run complete in 0.711756761 seconds
 [172.31.7.17]
 [172.31.7.17] Running handlers:
 [172.31.7.17]
 [172.31.7.17] [2025-10-08T09:13:06+00:00] INFO: Running report handlers
 [172.31.7.17] Running handlers complete
 [172.31.7.17] [2025-10-08T09:13:06+00:00] INFO: Report handlers complete
 [172.31.7.17] Infra Phase complete, 0/0 resources updated in 02 seconds
 [172.31.7.17]
 [172.31.7.17] [2025-10-08T09:13:06+00:00] DEBUG: Chef::Compliance::Runner#enabled?: Chef InSpec profiles? false
 [172.31.7.17] [2025-10-08T09:13:06+00:00] DEBUG: Chef::Compliance::Runner#enabled?: audit cookbook?
 [172.31.7.17] [2025-10-08T09:13:06+00:00] DEBUG: Chef::Compliance::Runner#enabled?: compliance phase attr? false
WARNING:
       +---------------------------------------------------------------------------------------------------------------------+
         To ensure uninterrupted downloads of Infra Client, Knife Bootstrap will soon require a license key.

         Here's what you need to know:
           * Adding a License: Use the < knife license > command to easily add a license key.
           * For Commercial Customers: Obtain your license key from the customer portal.
           * For Free/Trial Users: Non-commercial users can generate a license key from https://www.chef.io/license-generation-free-trial

         No action is require at this time, but please prepare for this change.
       +---------------------------------------------------------------------------------------------------------------------+
DEBUG: [SSH] ec2-user@172.31.7.17 cmd = sudo rm -f "/tmp/chef_DHslcu/bootstrap.sh"
[root@ip-172-31-0-253 chef-repo]# knife bootstrap 172.31.2.65 -N softserver --ssh-user ec2-user --ssh-identity-file id_rsa.pem --sudo -VV
--ssh-user: This flag is deprecated. Use -U/--connection-user instead.
INFO: Using configuration from /home/ec2-user/chef-repo/.chef/config.rb
DEBUG: Checking if we need to accept Chef license to bootstrap node
DEBUG: Reading products and relationships...
DEBUG: Successfully read products and relationships
DEBUG: License acceptance required for chef version: 18
DEBUG: Searching for the following licenses: ["infra-client", "inspec"]
DEBUG: Found license chef_infra_client at /etc/chef/accepted_licenses/chef_infra_client
DEBUG: Found license inspec at /etc/chef/accepted_licenses/inspec
DEBUG: Missing licenses remaining: []
DEBUG: All licenses present
Connecting to 172.31.2.65 using ssh
DEBUG: [SSH] opening connection to ec2-user@172.31.2.65
DEBUG: [SSH] using options {:user_known_hosts_file=>"/dev/null", :port=>22, :compression=>false, :compression_level=>0, :keepalive=>true, :keepalive_interval=>60, :timeout=>60, :auth_methods=>["none", "publickey"], :keys_only=>true, :keys=>["id_rsa.pem"], :password=>"<hidden>", :forward_agent=>false, :non_interactive=>true, :append_all_supported_algorithms=>true, :config=>true, :verify_host_key=>:always}
The authenticity of host '172.31.2.65 ()' can't be established.
fingerprint is SHA256:RhUFoFflKw1jl1Nmmw3S+Y3C8uxCbHdWhs6tgCf3WXg.

Are you sure you want to continue connecting
? (Y/N) Y
Connecting to 172.31.2.65 using ssh
DEBUG: [SSH] opening connection to ec2-user@172.31.2.65
DEBUG: [SSH] using options {:user_known_hosts_file=>"/dev/null", :port=>22, :compression=>false, :compression_level=>0, :keepalive=>true, :keepalive_interval=>60, :timeout=>60, :auth_methods=>["none", "publickey"], :keys_only=>true, :keys=>["id_rsa.pem"], :password=>"<hidden>", :forward_agent=>false, :non_interactive=>true, :append_all_supported_algorithms=>true, :config=>true, :verify_host_key=>:accept_new}
DEBUG: [SSH] ec2-user@172.31.2.65 cmd = cmd.exe /c ver
DEBUG: [SSH] ec2-user@172.31.2.65 cmd = Get-WmiObject Win32_OperatingSystem | Select Caption,Version | ConvertTo-Json
DEBUG: [SSH] ec2-user@172.31.2.65 cmd = uname -s
DEBUG: [SSH] ec2-user@172.31.2.65 cmd = uname -m
DEBUG: [SSH] ec2-user@172.31.2.65 cmd = test -f /etc/debian_version
DEBUG: [SSH] ec2-user@172.31.2.65 cmd = test -f /etc/os-release && cat /etc/os-release
DEBUG: [SSH] ec2-user@172.31.2.65 cmd = show version
DEBUG: [SSH] ec2-user@172.31.2.65 cmd = test -f /etc/lsb-release && cat /etc/lsb-release
DEBUG: [SSH] ec2-user@172.31.2.65 cmd = test -f /usr/bin/lsb-release && cat /usr/bin/lsb-release
DEBUG: [SSH] ec2-user@172.31.2.65 cmd = test -f /etc/oracle-release && cat /etc/oracle-release
DEBUG: [SSH] ec2-user@172.31.2.65 cmd = test -f /etc/enterprise-release && cat /etc/enterprise-release
DEBUG: [SSH] ec2-user@172.31.2.65 cmd = test -f /etc/parallels-release && cat /etc/parallels-release
DEBUG: [SSH] ec2-user@172.31.2.65 cmd = test -f /etc/system-release && cat /etc/system-release
DEBUG: [SSH] ec2-user@172.31.2.65 cmd = sh -c '(sudo echo) < /dev/null'
DEBUG: [SSH] ec2-user@172.31.2.65 cmd = sudo echo '[SSH] Established'
Creating new client for softserver
Creating new node for softserver
DEBUG: [SSH] ec2-user@172.31.2.65 cmd = sudo mkdir -p '/tmp/chef_NavEtF'
DEBUG: [SSH] ec2-user@172.31.2.65 cmd = sudo chown ec2-user '/tmp/chef_NavEtF'
Bootstrapping 172.31.2.65
DEBUG: [SSH] ec2-user@172.31.2.65 cmd = sudo sh /tmp/chef_NavEtF/bootstrap.sh
 [172.31.2.65] -----> Installing Chef Omnibus (stable/latest)
downloading https://omnitruck.chef.io/chef/install.sh
  to file /tmp/install.sh.3611/install.sh
trying wget...
 [172.31.2.65] amazon 2023 x86_64
Getting information for chef stable latest for amazon...
downloading https://omnitruck.chef.io/stable/chef/metadata?v=latest&p=amazon&pv=2023&m=x86_64
  to file /tmp/install.sh.3615/metadata.txt
 [172.31.2.65] trying wget...
 [172.31.2.65] sha1     262cc97e8c66f6cd1b865190fc17d725fee68aac
sha256  8bcb6286938b8f8df08b6229919e973f95a74a70e1122e3df194433f289fc534
url     https://packages.chef.io/files/stable/chef/18.8.11/amazon/2023/chef-18.8.11-1.amazon2023.x86_64.rpm
version 18.8.11
 [172.31.2.65]
 [172.31.2.65] downloaded metadata file looks valid...
 [172.31.2.65] downloading https://packages.chef.io/files/stable/chef/18.8.11/amazon/2023/chef-18.8.11-1.amazon2023.x86_64.rpm
  to file /tmp/install.sh.3615/chef-18.8.11-1.amazon2023.x86_64.rpm
 [172.31.2.65] trying wget...
 [172.31.2.65] Comparing checksum with sha256sum...
 [172.31.2.65] Installing chef latest
installing with rpm...
 [172.31.2.65] warning:
 [172.31.2.65] /tmp/install.sh.3615/chef-18.8.11-1.amazon2023.x86_64.rpm: Header V4 DSA/SHA256 Signature, key ID 83ef826a: NOKEY
 [172.31.2.65] Verifying...
 [172.31.2.65] ########################################
 [172.31.2.65]
 [172.31.2.65] Preparing...
 [172.31.2.65] ########################################
 [172.31.2.65]
 [172.31.2.65] Updating / installing...
chef-18.8.11-1.amazon2023
 [172.31.2.65] #
 [172.31.2.65] #
 [172.31.2.65] #
 [172.31.2.65] #
 [172.31.2.65] #
 [172.31.2.65] #
 [172.31.2.65] #
 [172.31.2.65] #
 [172.31.2.65] #
 [172.31.2.65] #
 [172.31.2.65] #
 [172.31.2.65] #
 [172.31.2.65] #
 [172.31.2.65] #
 [172.31.2.65] #
 [172.31.2.65] #
 [172.31.2.65] #
 [172.31.2.65] #
 [172.31.2.65] #
 [172.31.2.65] #
 [172.31.2.65] #
 [172.31.2.65] #
 [172.31.2.65] #
 [172.31.2.65] #
 [172.31.2.65] #
 [172.31.2.65] #
 [172.31.2.65] #
 [172.31.2.65] #
 [172.31.2.65] #
 [172.31.2.65] #
 [172.31.2.65] #
 [172.31.2.65] #
 [172.31.2.65] #
 [172.31.2.65] #
 [172.31.2.65] #
 [172.31.2.65] #
 [172.31.2.65] #
 [172.31.2.65] #
 [172.31.2.65] #
 [172.31.2.65] #
 [172.31.2.65]
 [172.31.2.65] Thank you for installing Chef Infra Client! For help getting started visit https://learn.chef.io
 [172.31.2.65] Starting the first Chef Infra Client Client run...
 [172.31.2.65] [2025-10-08T09:14:01+00:00] DEBUG: Reading products and relationships...
 [172.31.2.65] [2025-10-08T09:14:01+00:00] DEBUG: Successfully read products and relationships
 [172.31.2.65] [2025-10-08T09:14:01+00:00] DEBUG: Searching for the following licenses: ["infra-client", "inspec"]
 [172.31.2.65] [2025-10-08T09:14:01+00:00] DEBUG: Missing licenses remaining: ["infra-client", "inspec"]
 [172.31.2.65] [2025-10-08T09:14:01+00:00] INFO: Persisting a license for Chef Infra Client at path /etc/chef/accepted_licenses/chef_infra_client
 [172.31.2.65] [2025-10-08T09:14:01+00:00] INFO: Persisting a license for Chef InSpec at path /etc/chef/accepted_licenses/inspec
 [172.31.2.65] +---------------------------------------------+
✔ 2 product licenses accepted.
+---------------------------------------------+
 [172.31.2.65] [2025-10-08T09:14:01+00:00] DEBUG: Running Ohai with the following configuration: {:logger=>Chef::Log}
 [172.31.2.65] Chef Infra Client, version 18.8.11
 [172.31.2.65]
 [172.31.2.65] Patents: https://www.chef.io/patents
 [172.31.2.65]
 [172.31.2.65] Infra Phase starting
 [172.31.2.65]
 [172.31.2.65] [2025-10-08T09:14:01+00:00] INFO: *** Chef Infra Client 18.8.11 ***
 [172.31.2.65] [2025-10-08T09:14:01+00:00] INFO: Platform: x86_64-linux
 [172.31.2.65] [2025-10-08T09:14:01+00:00] INFO: Chef-client pid: 3686
 [172.31.2.65] [2025-10-08T09:14:01+00:00] DEBUG: Chef-client request_id: ad5248b7-3d6b-4d4b-8ddc-45119ae16a24
 [172.31.2.65] [2025-10-08T09:14:01+00:00] DEBUG: Running Ohai with the following configuration: {:logger=>Chef::Log}
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: Plugin Network: Parsing ethtool output: Features for enX0:
rx-checksumming: on [fixed]
tx-checksumming: on
        tx-checksum-ipv4: on [fixed]
        tx-checksum-ip-generic: off [fixed]
        tx-checksum-ipv6: on
        tx-checksum-fcoe-crc: off [fixed]
        tx-checksum-sctp: off [fixed]
scatter-gather: on
        tx-scatter-gather: on
        tx-scatter-gather-fraglist: off [fixed]
tcp-segmentation-offload: on
        tx-tcp-segmentation: on
        tx-tcp-ecn-segmentation: off [fixed]
        tx-tcp-mangleid-segmentation: off
        tx-tcp6-segmentation: on
generic-segmentation-offload: on
generic-receive-offload: on
large-receive-offload: off [fixed]
rx-vlan-offload: off [fixed]
tx-vlan-offload: off [fixed]
ntuple-filters: off [fixed]
receive-hashing: off [fixed]
highdma: off [fixed]
rx-vlan-filter: off [fixed]
vlan-challenged: off [fixed]
tx-lockless: off [fixed]
netns-local: off [fixed]
tx-gso-robust: on [fixed]
tx-fcoe-segmentation: off [fixed]
tx-gre-segmentation: off [fixed]
tx-gre-csum-segmentation: off [fixed]
tx-ipxip4-segmentation: off [fixed]
tx-ipxip6-segmentation: off [fixed]
tx-udp_tnl-segmentation: off [fixed]
tx-udp_tnl-csum-segmentation: off [fixed]
tx-gso-partial: off [fixed]
tx-tunnel-remcsum-segmentation: off [fixed]
tx-sctp-segmentation: off [fixed]
tx-esp-segmentation: off [fixed]
tx-udp-segmentation: off [fixed]
tx-gso-list: off [fixed]
fcoe-mtu: off [fixed]
tx-nocache-copy: off
loopback: off [fixed]
rx-fcs: off [fixed]
rx-all: off [fixed]
tx-vlan-stag-hw-insert: off [fixed]
rx-vlan-stag-hw-parse: off [fixed]
rx-vlan-stag-filter: off [fixed]
l2-fwd-offload: off [fixed]
hw-tc-offload: off [fixed]
esp-hw-offload: off [fixed]
esp-tx-csum-hw-offload: off [fixed]
rx-udp_tunnel-port-offload: off [fixed]
tls-hw-tx-offload: off [fixed]
tls-hw-rx-offload: off [fixed]
rx-gro-hw: off [fixed]
tls-hw-record: off [fixed]
rx-gro-list: off
macsec-hw-offload: off [fixed]
rx-udp-gro-forwarding: off
hsr-tag-ins-offload: off [fixed]
hsr-tag-rm-offload: off [fixed]
hsr-fwd-offload: off [fixed]
hsr-dup-offload: off [fixed]

 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opened
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opened
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opened
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opened
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opened
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opened
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opened
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opened
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opened
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opened
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opened
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opened
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opened
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opened
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opened
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opened
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opened
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opened
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opened
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opened
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opened
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opened
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opened
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opened
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opened
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opened
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opened
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opened
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opened
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opened
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opened
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opened
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opened
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opened
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opened
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opened
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opened
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opened
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opened
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opened
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opened
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opened
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opened
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opened
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opened
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opened
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opened
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opened
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opened
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opened
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opened
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opened
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opened
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opened
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opened
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opened
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opened
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opened
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opened
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opened
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opened
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opened
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opened
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opened
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opened
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opened
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opened
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.2.65] [2025-10-08T09:14:02+00:00] DEBUG: opened
 [172.31.2.65] [2025-10-08T09:14:03+00:00] ERROR: shard_seed: Failed to get dmi property serial_number: is dmidecode installed?
 [172.31.2.65] [2025-10-08T09:14:03+00:00] DEBUG: Plugin Zpools: Could not shell_out "zpool list -H -o name,size,alloc,free,cap,dedup,health,version". Skipping plugin.
 [172.31.2.65] [2025-10-08T09:14:03+00:00] DEBUG: opening connection to ip-172-31-15-253.ap-south-1.compute.internal:443...
 [172.31.2.65] [2025-10-08T09:14:03+00:00] DEBUG: opened
 [172.31.2.65] [2025-10-08T09:14:03+00:00] DEBUG: starting SSL for ip-172-31-15-253.ap-south-1.compute.internal:443...
 [172.31.2.65] [2025-10-08T09:14:03+00:00] DEBUG: SSL established, protocol: TLSv1.2, cipher: ECDHE-RSA-AES256-GCM-SHA384
 [172.31.2.65] [2025-10-08T09:14:03+00:00] DEBUG: Extracting run list from JSON attributes provided on command line
 [172.31.2.65] [2025-10-08T09:14:03+00:00] INFO: Setting the run_list to [] from CLI options
 [172.31.2.65] [2025-10-08T09:14:03+00:00] DEBUG: Applying attributes from json file
 [172.31.2.65] [2025-10-08T09:14:03+00:00] DEBUG: Platform is amazon version 2023
 [172.31.2.65] [2025-10-08T09:14:03+00:00] INFO: Run List is []
 [172.31.2.65] [2025-10-08T09:14:03+00:00] INFO: Run List expands to []
 [172.31.2.65] [2025-10-08T09:14:03+00:00] INFO: Starting Chef Infra Client Run for softserver
 [172.31.2.65] [2025-10-08T09:14:03+00:00] INFO: Running start handlers
 [172.31.2.65] [2025-10-08T09:14:03+00:00] INFO: Start handlers complete.
 [172.31.2.65] [2025-10-08T09:14:03+00:00] DEBUG: opening connection to ip-172-31-15-253.ap-south-1.compute.internal:443...
 [172.31.2.65] [2025-10-08T09:14:03+00:00] DEBUG: opened
 [172.31.2.65] [2025-10-08T09:14:03+00:00] DEBUG: starting SSL for ip-172-31-15-253.ap-south-1.compute.internal:443...
 [172.31.2.65] [2025-10-08T09:14:03+00:00] DEBUG: SSL established, protocol: TLSv1.2, cipher: ECDHE-RSA-AES256-GCM-SHA384
 [172.31.2.65] [2025-10-08T09:14:03+00:00] DEBUG: Error while reporting run start to Data Collector. URL: https://ip-172-31-15-253.ap-south-1.compute.internal/organizations/dropmail/data-collector Exception: 404 -- 404 "Not Found"  (This is normal if you do not have Chef Automate)
 [172.31.2.65] [2025-10-08T09:14:03+00:00] DEBUG: opening connection to ip-172-31-15-253.ap-south-1.compute.internal:443...
 [172.31.2.65] [2025-10-08T09:14:03+00:00] DEBUG: opened
 [172.31.2.65] [2025-10-08T09:14:03+00:00] DEBUG: starting SSL for ip-172-31-15-253.ap-south-1.compute.internal:443...
 [172.31.2.65] [2025-10-08T09:14:03+00:00] DEBUG: SSL established, protocol: TLSv1.2, cipher: ECDHE-RSA-AES256-GCM-SHA384
 [172.31.2.65] Resolving cookbooks for run list: []
 [172.31.2.65]
 [172.31.2.65] [2025-10-08T09:14:03+00:00] DEBUG: opening connection to ip-172-31-15-253.ap-south-1.compute.internal:443...
 [172.31.2.65] [2025-10-08T09:14:03+00:00] DEBUG: opened
 [172.31.2.65] [2025-10-08T09:14:03+00:00] DEBUG: starting SSL for ip-172-31-15-253.ap-south-1.compute.internal:443...
 [172.31.2.65] [2025-10-08T09:14:03+00:00] DEBUG: SSL established, protocol: TLSv1.2, cipher: ECDHE-RSA-AES256-GCM-SHA384
 [172.31.2.65] [2025-10-08T09:14:03+00:00] INFO: Loading cookbooks []
 [172.31.2.65] Synchronizing cookbooks:
 [172.31.2.65]
 [172.31.2.65] Installing cookbook gem dependencies:
Compiling cookbooks...
[2025-10-08T09:14:03+00:00] DEBUG: Cookbooks to compile: []
 [172.31.2.65] Loading Chef InSpec profile files:
 [172.31.2.65]
 [172.31.2.65] Loading Chef InSpec input files:
 [172.31.2.65]
 [172.31.2.65] Loading Chef InSpec waiver files:
 [172.31.2.65]
 [172.31.2.65] [2025-10-08T09:14:04+00:00] WARN: Node softserver has an empty run list.
 [172.31.2.65] [2025-10-08T09:14:04+00:00] DEBUG: opening connection to ip-172-31-15-253.ap-south-1.compute.internal:443...
 [172.31.2.65] [2025-10-08T09:14:04+00:00] DEBUG: opened
 [172.31.2.65] [2025-10-08T09:14:04+00:00] DEBUG: starting SSL for ip-172-31-15-253.ap-south-1.compute.internal:443...
 [172.31.2.65] [2025-10-08T09:14:04+00:00] DEBUG: SSL established, protocol: TLSv1.2, cipher: ECDHE-RSA-AES256-GCM-SHA384
 [172.31.2.65] Converging 0 resources
 [172.31.2.65]
 [172.31.2.65] [2025-10-08T09:14:04+00:00] DEBUG: Chef::Compliance::Runner#enabled?: Chef InSpec profiles? false
 [172.31.2.65] [2025-10-08T09:14:04+00:00] DEBUG: Chef::Compliance::Runner#enabled?: audit cookbook?
 [172.31.2.65] [2025-10-08T09:14:04+00:00] DEBUG: Chef::Compliance::Runner#enabled?: compliance phase attr? false
 [172.31.2.65] [2025-10-08T09:14:04+00:00] DEBUG: Converging node softserver
 [172.31.2.65] [2025-10-08T09:14:04+00:00] DEBUG: Saving the current state of node softserver
 [172.31.2.65] [2025-10-08T09:14:04+00:00] DEBUG: opening connection to ip-172-31-15-253.ap-south-1.compute.internal:443...
 [172.31.2.65] [2025-10-08T09:14:04+00:00] DEBUG: opened
 [172.31.2.65] [2025-10-08T09:14:04+00:00] DEBUG: starting SSL for ip-172-31-15-253.ap-south-1.compute.internal:443...
 [172.31.2.65] [2025-10-08T09:14:04+00:00] DEBUG: SSL established, protocol: TLSv1.2, cipher: ECDHE-RSA-AES256-GCM-SHA384
 [172.31.2.65] [2025-10-08T09:14:04+00:00] INFO: Chef Infra Client Run complete in 0.690614478 seconds
 [172.31.2.65]
 [172.31.2.65] Running handlers:
 [172.31.2.65]
 [172.31.2.65] [2025-10-08T09:14:04+00:00] INFO: Running report handlers
 [172.31.2.65] Running handlers complete
 [172.31.2.65] [2025-10-08T09:14:04+00:00] INFO: Report handlers complete
 [172.31.2.65] Infra Phase complete, 0/0 resources updated in 02 seconds
 [172.31.2.65]
 [172.31.2.65] [2025-10-08T09:14:04+00:00] DEBUG: Chef::Compliance::Runner#enabled?: Chef InSpec profiles? false
 [172.31.2.65] [2025-10-08T09:14:04+00:00] DEBUG: Chef::Compliance::Runner#enabled?: audit cookbook?
 [172.31.2.65] [2025-10-08T09:14:04+00:00] DEBUG: Chef::Compliance::Runner#enabled?: compliance phase attr? false
WARNING:
       +---------------------------------------------------------------------------------------------------------------------+
         To ensure uninterrupted downloads of Infra Client, Knife Bootstrap will soon require a license key.

         Here's what you need to know:
           * Adding a License: Use the < knife license > command to easily add a license key.
           * For Commercial Customers: Obtain your license key from the customer portal.
           * For Free/Trial Users: Non-commercial users can generate a license key from https://www.chef.io/license-generation-free-trial

         No action is require at this time, but please prepare for this change.
       +---------------------------------------------------------------------------------------------------------------------+
DEBUG: [SSH] ec2-user@172.31.2.65 cmd = sudo rm -f "/tmp/chef_NavEtF/bootstrap.sh"
[root@ip-172-31-0-253 chef-repo]# knife node list
INFO: Using configuration from /home/ec2-user/chef-repo/.chef/config.rb
Webserver
softserver
[root@ip-172-31-0-253 chef-repo]# ls
README.md  cookbooks  id_rsa.pem  roles
[root@ip-172-31-0-253 chef-repo]# cd cookbooks
[root@ip-172-31-0-253 cookbooks]# chef generate cookbook webbook

+---------------------------------------------+
            Chef License Acceptance

Before you can continue, 1 product license
must be accepted. View the license at
https://www.chef.io/end-user-license-agreement/

License that need accepting:
  * Chef Workstation

Do you accept the 1 product license (yes/no)?

> yes

Persisting 1 product license...
✔ 1 product license persisted.

+---------------------------------------------+
Generating cookbook webbook
- Ensuring correct cookbook content

Your cookbook is ready. Type `cd webbook` to enter it.

There are several commands you can run to get started locally developing and testing your cookbook.

Why not start by writing an InSpec test? Tests for the default recipe are stored at:

test/integration/default/default_test.rb

If you'd prefer to dive right in, the default recipe can be found at:

recipes/default.rb

[root@ip-172-31-0-253 cookbooks]# cd webbook
[root@ip-172-31-0-253 webbook]# ls
CHANGELOG.md  LICENSE  Policyfile.rb  README.md  chefignore  compliance  kitchen.yml  metadata.rb  recipes  test
[root@ip-172-31-0-253 webbook]# chef generate recipe web
Recipe: code_generator::recipe
  * directory[/home/ec2-user/chef-repo/cookbooks/webbook/spec/unit/recipes] action create
    - create new directory /home/ec2-user/chef-repo/cookbooks/webbook/spec/unit/recipes
    - restore selinux security context
  * cookbook_file[/home/ec2-user/chef-repo/cookbooks/webbook/spec/spec_helper.rb] action create_if_missing
    - create new file /home/ec2-user/chef-repo/cookbooks/webbook/spec/spec_helper.rb
    - update content in file /home/ec2-user/chef-repo/cookbooks/webbook/spec/spec_helper.rb from none to 945e09
    (diff output suppressed by config)
    - restore selinux security context
  * template[/home/ec2-user/chef-repo/cookbooks/webbook/spec/unit/recipes/web_spec.rb] action create_if_missing
    - create new file /home/ec2-user/chef-repo/cookbooks/webbook/spec/unit/recipes/web_spec.rb
    - update content in file /home/ec2-user/chef-repo/cookbooks/webbook/spec/unit/recipes/web_spec.rb from none to f56923
    (diff output suppressed by config)
    - restore selinux security context
  * directory[/home/ec2-user/chef-repo/cookbooks/webbook/test/integration/default] action create (up to date)
  * template[/home/ec2-user/chef-repo/cookbooks/webbook/test/integration/default/web_test.rb] action create_if_missing
    - create new file /home/ec2-user/chef-repo/cookbooks/webbook/test/integration/default/web_test.rb
    - update content in file /home/ec2-user/chef-repo/cookbooks/webbook/test/integration/default/web_test.rb from none to 203c4c
    (diff output suppressed by config)
    - restore selinux security context
  * template[/home/ec2-user/chef-repo/cookbooks/webbook/recipes/web.rb] action create
    - create new file /home/ec2-user/chef-repo/cookbooks/webbook/recipes/web.rb
    - update content in file /home/ec2-user/chef-repo/cookbooks/webbook/recipes/web.rb from none to a09254
    (diff output suppressed by config)
    - restore selinux security context
[root@ip-172-31-0-253 webbook]# vi recipes/web.rb
[root@ip-172-31-0-253 webbook]# cd ..
[root@ip-172-31-0-253 cookbooks]# chef generate cookbook softbook
Generating cookbook softbook
- Ensuring correct cookbook content

Your cookbook is ready. Type `cd softbook` to enter it.

There are several commands you can run to get started locally developing and testing your cookbook.

Why not start by writing an InSpec test? Tests for the default recipe are stored at:

test/integration/default/default_test.rb

If you'd prefer to dive right in, the default recipe can be found at:

recipes/default.rb

[root@ip-172-31-0-253 cookbooks]# cd softbook/
[root@ip-172-31-0-253 softbook]# chef generate recipe soft
Recipe: code_generator::recipe
  * directory[/home/ec2-user/chef-repo/cookbooks/softbook/spec/unit/recipes] action create
    - create new directory /home/ec2-user/chef-repo/cookbooks/softbook/spec/unit/recipes
    - restore selinux security context
  * cookbook_file[/home/ec2-user/chef-repo/cookbooks/softbook/spec/spec_helper.rb] action create_if_missing
    - create new file /home/ec2-user/chef-repo/cookbooks/softbook/spec/spec_helper.rb
    - update content in file /home/ec2-user/chef-repo/cookbooks/softbook/spec/spec_helper.rb from none to 945e09
    (diff output suppressed by config)
    - restore selinux security context
  * template[/home/ec2-user/chef-repo/cookbooks/softbook/spec/unit/recipes/soft_spec.rb] action create_if_missing
    - create new file /home/ec2-user/chef-repo/cookbooks/softbook/spec/unit/recipes/soft_spec.rb
    - update content in file /home/ec2-user/chef-repo/cookbooks/softbook/spec/unit/recipes/soft_spec.rb from none to b6257c
    (diff output suppressed by config)
    - restore selinux security context
  * directory[/home/ec2-user/chef-repo/cookbooks/softbook/test/integration/default] action create (up to date)
  * template[/home/ec2-user/chef-repo/cookbooks/softbook/test/integration/default/soft_test.rb] action create_if_missing
    - create new file /home/ec2-user/chef-repo/cookbooks/softbook/test/integration/default/soft_test.rb
    - update content in file /home/ec2-user/chef-repo/cookbooks/softbook/test/integration/default/soft_test.rb from none to b18f70
    (diff output suppressed by config)
    - restore selinux security context
  * template[/home/ec2-user/chef-repo/cookbooks/softbook/recipes/soft.rb] action create
    - create new file /home/ec2-user/chef-repo/cookbooks/softbook/recipes/soft.rb
    - update content in file /home/ec2-user/chef-repo/cookbooks/softbook/recipes/soft.rb from none to 35bf24
    (diff output suppressed by config)
    - restore selinux security context
[root@ip-172-31-0-253 softbook]# vi recipes/soft.rb
[root@ip-172-31-0-253 softbook]# cd ..
[root@ip-172-31-0-253 cookbooks]# chef generate cookbook userbook
Generating cookbook userbook
- Ensuring correct cookbook content

Your cookbook is ready. Type `cd userbook` to enter it.

There are several commands you can run to get started locally developing and testing your cookbook.

Why not start by writing an InSpec test? Tests for the default recipe are stored at:

test/integration/default/default_test.rb

If you'd prefer to dive right in, the default recipe can be found at:

recipes/default.rb

[root@ip-172-31-0-253 cookbooks]# cd userbook
[root@ip-172-31-0-253 userbook]# chef generate recipe user
Recipe: code_generator::recipe
  * directory[/home/ec2-user/chef-repo/cookbooks/userbook/spec/unit/recipes] action create
    - create new directory /home/ec2-user/chef-repo/cookbooks/userbook/spec/unit/recipes
    - restore selinux security context
  * cookbook_file[/home/ec2-user/chef-repo/cookbooks/userbook/spec/spec_helper.rb] action create_if_missing
    - create new file /home/ec2-user/chef-repo/cookbooks/userbook/spec/spec_helper.rb
    - update content in file /home/ec2-user/chef-repo/cookbooks/userbook/spec/spec_helper.rb from none to 945e09
    (diff output suppressed by config)
    - restore selinux security context
  * template[/home/ec2-user/chef-repo/cookbooks/userbook/spec/unit/recipes/user_spec.rb] action create_if_missing
    - create new file /home/ec2-user/chef-repo/cookbooks/userbook/spec/unit/recipes/user_spec.rb
    - update content in file /home/ec2-user/chef-repo/cookbooks/userbook/spec/unit/recipes/user_spec.rb from none to 6d97d8
    (diff output suppressed by config)
    - restore selinux security context
  * directory[/home/ec2-user/chef-repo/cookbooks/userbook/test/integration/default] action create (up to date)
  * template[/home/ec2-user/chef-repo/cookbooks/userbook/test/integration/default/user_test.rb] action create_if_missing
    - create new file /home/ec2-user/chef-repo/cookbooks/userbook/test/integration/default/user_test.rb
    - update content in file /home/ec2-user/chef-repo/cookbooks/userbook/test/integration/default/user_test.rb from none to 5ad306
    (diff output suppressed by config)
    - restore selinux security context
  * template[/home/ec2-user/chef-repo/cookbooks/userbook/recipes/user.rb] action create
    - create new file /home/ec2-user/chef-repo/cookbooks/userbook/recipes/user.rb
    - update content in file /home/ec2-user/chef-repo/cookbooks/userbook/recipes/user.rb from none to a88606
    (diff output suppressed by config)
    - restore selinux security context
[root@ip-172-31-0-253 userbook]# vi recipes/user.rb
[root@ip-172-31-0-253 userbook]# cd ..
[root@ip-172-31-0-253 cookbooks]# tree
bash: tree: command not found
[root@ip-172-31-0-253 cookbooks]# yum install tree -y
Last metadata expiration check: 0:31:27 ago on Wed Oct  8 08:51:30 2025.
Dependencies resolved.
============================================================================================================================================================
 Package                        Architecture                     Version                                        Repository                             Size
============================================================================================================================================================
Installing:
 tree                           x86_64                           1.8.0-6.amzn2023.0.2                           amazonlinux                            56 k

Transaction Summary
============================================================================================================================================================
Install  1 Package

Total download size: 56 k
Installed size: 113 k
Downloading Packages:
tree-1.8.0-6.amzn2023.0.2.x86_64.rpm                                                                                        1.6 MB/s |  56 kB     00:00
------------------------------------------------------------------------------------------------------------------------------------------------------------
Total                                                                                                                       907 kB/s |  56 kB     00:00
Running transaction check
Transaction check succeeded.
Running transaction test
Transaction test succeeded.
Running transaction
  Preparing        :                                                                                                                                    1/1
  Installing       : tree-1.8.0-6.amzn2023.0.2.x86_64                                                                                                   1/1
  Running scriptlet: tree-1.8.0-6.amzn2023.0.2.x86_64                                                                                                   1/1
  Verifying        : tree-1.8.0-6.amzn2023.0.2.x86_64                                                                                                   1/1
============================================================================================================================================================
WARNING:
  A newer release of "Amazon Linux" is available.

  Available Versions:

  Version 2023.8.20250908:
    Run the following command to upgrade to 2023.8.20250908:

      dnf upgrade --releasever=2023.8.20250908

    Release notes:
     https://docs.aws.amazon.com/linux/al2023/release-notes/relnotes-2023.8.20250908.html

  Version 2023.8.20250915:
    Run the following command to upgrade to 2023.8.20250915:

      dnf upgrade --releasever=2023.8.20250915

    Release notes:
     https://docs.aws.amazon.com/linux/al2023/release-notes/relnotes-2023.8.20250915.html

  Version 2023.9.20250929:
    Run the following command to upgrade to 2023.9.20250929:

      dnf upgrade --releasever=2023.9.20250929

    Release notes:
     https://docs.aws.amazon.com/linux/al2023/release-notes/relnotes-2023.9.20250929.html

============================================================================================================================================================

Installed:
  tree-1.8.0-6.amzn2023.0.2.x86_64

Complete!
[root@ip-172-31-0-253 cookbooks]# tree
.
├── chefignore
├── softbook
│   ├── CHANGELOG.md
│   ├── LICENSE
│   ├── Policyfile.rb
│   ├── README.md
│   ├── chefignore
│   ├── compliance
│   │   ├── README.md
│   │   ├── inputs
│   │   ├── profiles
│   │   └── waivers
│   ├── kitchen.yml
│   ├── metadata.rb
│   ├── recipes
│   │   ├── default.rb
│   │   └── soft.rb
│   ├── spec
│   │   ├── spec_helper.rb
│   │   └── unit
│   │       └── recipes
│   │           └── soft_spec.rb
│   └── test
│       └── integration
│           └── default
│               ├── default_test.rb
│               └── soft_test.rb
├── starter
│   ├── attributes
│   │   └── default.rb
│   ├── files
│   │   └── default
│   │       └── sample.txt
│   ├── metadata.rb
│   ├── recipes
│   │   └── default.rb
│   └── templates
│       └── default
│           └── sample.erb
├── userbook
│   ├── CHANGELOG.md
│   ├── LICENSE
│   ├── Policyfile.rb
│   ├── README.md
│   ├── chefignore
│   ├── compliance
│   │   ├── README.md
│   │   ├── inputs
│   │   ├── profiles
│   │   └── waivers
│   ├── kitchen.yml
│   ├── metadata.rb
│   ├── recipes
│   │   ├── default.rb
│   │   └── user.rb
│   ├── spec
│   │   ├── spec_helper.rb
│   │   └── unit
│   │       └── recipes
│   │           └── user_spec.rb
│   └── test
│       └── integration
│           └── default
│               ├── default_test.rb
│               └── user_test.rb
└── webbook
    ├── CHANGELOG.md
    ├── LICENSE
    ├── Policyfile.rb
    ├── README.md
    ├── chefignore
    ├── compliance
    │   ├── README.md
    │   ├── inputs
    │   ├── profiles
    │   └── waivers
    ├── kitchen.yml
    ├── metadata.rb
    ├── recipes
    │   ├── default.rb
    │   └── web.rb
    ├── spec
    │   ├── spec_helper.rb
    │   └── unit
    │       └── recipes
    │           └── web_spec.rb
    └── test
        └── integration
            └── default
                ├── default_test.rb
                └── web_test.rb

43 directories, 48 files
[root@ip-172-31-0-253 cookbooks]# chef generate cookbook auto
Generating cookbook auto
- Ensuring correct cookbook content

Your cookbook is ready. Type `cd auto` to enter it.

There are several commands you can run to get started locally developing and testing your cookbook.

Why not start by writing an InSpec test? Tests for the default recipe are stored at:

test/integration/default/default_test.rb

If you'd prefer to dive right in, the default recipe can be found at:

recipes/default.rb

[root@ip-172-31-0-253 cookbooks]# rm -rf auto
[root@ip-172-31-0-253 cookbooks]# rm -rf autobook
[root@ip-172-31-0-253 cookbooks]# chef generate cookbook autobook
Generating cookbook autobook
- Ensuring correct cookbook content

Your cookbook is ready. Type `cd autobook` to enter it.

There are several commands you can run to get started locally developing and testing your cookbook.

Why not start by writing an InSpec test? Tests for the default recipe are stored at:

test/integration/default/default_test.rb

If you'd prefer to dive right in, the default recipe can be found at:

recipes/default.rb

[root@ip-172-31-0-253 cookbooks]# cd autobook/
[root@ip-172-31-0-253 autobook]# chef generate recipe auto
Recipe: code_generator::recipe
  * directory[/home/ec2-user/chef-repo/cookbooks/autobook/spec/unit/recipes] action create
    - create new directory /home/ec2-user/chef-repo/cookbooks/autobook/spec/unit/recipes
    - restore selinux security context
  * cookbook_file[/home/ec2-user/chef-repo/cookbooks/autobook/spec/spec_helper.rb] action create_if_missing
    - create new file /home/ec2-user/chef-repo/cookbooks/autobook/spec/spec_helper.rb
    - update content in file /home/ec2-user/chef-repo/cookbooks/autobook/spec/spec_helper.rb from none to 945e09
    (diff output suppressed by config)
    - restore selinux security context
  * template[/home/ec2-user/chef-repo/cookbooks/autobook/spec/unit/recipes/auto_spec.rb] action create_if_missing
    - create new file /home/ec2-user/chef-repo/cookbooks/autobook/spec/unit/recipes/auto_spec.rb
    - update content in file /home/ec2-user/chef-repo/cookbooks/autobook/spec/unit/recipes/auto_spec.rb from none to 891d0c
    (diff output suppressed by config)
    - restore selinux security context
  * directory[/home/ec2-user/chef-repo/cookbooks/autobook/test/integration/default] action create (up to date)
  * template[/home/ec2-user/chef-repo/cookbooks/autobook/test/integration/default/auto_test.rb] action create_if_missing
    - create new file /home/ec2-user/chef-repo/cookbooks/autobook/test/integration/default/auto_test.rb
    - update content in file /home/ec2-user/chef-repo/cookbooks/autobook/test/integration/default/auto_test.rb from none to 537ed4
    (diff output suppressed by config)
    - restore selinux security context
  * template[/home/ec2-user/chef-repo/cookbooks/autobook/recipes/auto.rb] action create
    - create new file /home/ec2-user/chef-repo/cookbooks/autobook/recipes/auto.rb
    - update content in file /home/ec2-user/chef-repo/cookbooks/autobook/recipes/auto.rb from none to cc697f
    (diff output suppressed by config)
    - restore selinux security context
[root@ip-172-31-0-253 autobook]# vi recipes/auto.rb
[root@ip-172-31-0-253 autobook]# cd ..
[root@ip-172-31-0-253 cookbooks]# cd ..
[root@ip-172-31-0-253 chef-repo]# ls
README.md  cookbooks  id_rsa.pem  roles
[root@ip-172-31-0-253 chef-repo]# cd roles
[root@ip-172-31-0-253 roles]# ls
starter.rb
[root@ip-172-31-0-253 roles]# cat starter.rb
name "starter"
description "An example Chef role"
run_list "recipe[starter]"
override_attributes({
  "starter_name" => "Gaurav Upadhayay",
})
[root@ip-172-31-0-253 roles]# vi prime.rb
[root@ip-172-31-0-253 roles]# rm -rf prime.rb
[root@ip-172-31-0-253 roles]# vi webrole.rb
[root@ip-172-31-0-253 roles]# cat webrole.rb
{
  "name": "webrole"
"description": "it's install web server on node",

"run_list": ["recipe[webbook]", "recipe[autobook]"]

}
[root@ip-172-31-0-253 roles]# knife node list
INFO: Using configuration from /home/ec2-user/chef-repo/.chef/config.rb
Webserver
softserver
[root@ip-172-31-0-253 roles]# cd ..
[root@ip-172-31-0-253 chef-repo]# knife cookbook upload webbook
INFO: Using configuration from /home/ec2-user/chef-repo/.chef/config.rb
Uploading webbook      [0.1.0]
INFO: Validating ruby files
INFO: Validating templates
INFO: Syntax OK
INFO: Saving webbook
INFO: Uploading files
INFO: Uploading /tmp/d20251008-27915-t7ppg/webbook/metadata.json (checksum hex = 4aa70e53be904eedf4a4a76b8954c268) to https://ip-172-31-15-253.ap-south-1.compute.internal:443/bookshelf/organization-b08e525e72b66ac125b0ada0582e9e6f/checksum-4aa70e53be904eedf4a4a76b8954c268?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=a4e7a7ead285b32d53e0d193144c5038bc612309%2F20251008%2Fap-south-1%2Fs3%2Faws4_request&X-Amz-Date=20251008T094538Z&X-Amz-Expires=900&X-Amz-SignedHeaders=content-md5%3Bcontent-type%3Bhost&X-Amz-Signature=a6b11834fe94992a3679bba8e90b97ef43bea221f79de1ff302568ea079ebd76
INFO: Uploading /tmp/d20251008-27915-t7ppg/webbook/CHANGELOG.md (checksum hex = 64036ed2156ce4a526c152a293dff6ed) to https://ip-172-31-15-253.ap-south-1.compute.internal:443/bookshelf/organization-b08e525e72b66ac125b0ada0582e9e6f/checksum-64036ed2156ce4a526c152a293dff6ed?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=a4e7a7ead285b32d53e0d193144c5038bc612309%2F20251008%2Fap-south-1%2Fs3%2Faws4_request&X-Amz-Date=20251008T094538Z&X-Amz-Expires=900&X-Amz-SignedHeaders=content-md5%3Bcontent-type%3Bhost&X-Amz-Signature=39dcf829e58150349824cc789e0817eb60e50aca88fdbf1d69aa21b28134ec10
INFO: Uploading /tmp/d20251008-27915-t7ppg/webbook/chefignore (checksum hex = 7d1bb2b845312c449ca22b3a71f32d78) to https://ip-172-31-15-253.ap-south-1.compute.internal:443/bookshelf/organization-b08e525e72b66ac125b0ada0582e9e6f/checksum-7d1bb2b845312c449ca22b3a71f32d78?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=a4e7a7ead285b32d53e0d193144c5038bc612309%2F20251008%2Fap-south-1%2Fs3%2Faws4_request&X-Amz-Date=20251008T094538Z&X-Amz-Expires=900&X-Amz-SignedHeaders=content-md5%3Bcontent-type%3Bhost&X-Amz-Signature=01e0115aa91ac1176ec572f51efaf5e4b756e372c1f85beb3b11b98c67530cbc
INFO: Uploading /tmp/d20251008-27915-t7ppg/webbook/README.md (checksum hex = 97700f31d4189891fca5ebfe56e644fc) to https://ip-172-31-15-253.ap-south-1.compute.internal:443/bookshelf/organization-b08e525e72b66ac125b0ada0582e9e6f/checksum-97700f31d4189891fca5ebfe56e644fc?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=a4e7a7ead285b32d53e0d193144c5038bc612309%2F20251008%2Fap-south-1%2Fs3%2Faws4_request&X-Amz-Date=20251008T094538Z&X-Amz-Expires=900&X-Amz-SignedHeaders=content-md5%3Bcontent-type%3Bhost&X-Amz-Signature=3f223308de35c9adee3e6733a20f3ef4c8444206aed741394a8767fbd1afd1b3
INFO: Uploading /tmp/d20251008-27915-t7ppg/webbook/compliance/README.md (checksum hex = a221da015866d6ee6f511672b8fc89cf) to https://ip-172-31-15-253.ap-south-1.compute.internal:443/bookshelf/organization-b08e525e72b66ac125b0ada0582e9e6f/checksum-a221da015866d6ee6f511672b8fc89cf?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=a4e7a7ead285b32d53e0d193144c5038bc612309%2F20251008%2Fap-south-1%2Fs3%2Faws4_request&X-Amz-Date=20251008T094538Z&X-Amz-Expires=900&X-Amz-SignedHeaders=content-md5%3Bcontent-type%3Bhost&X-Amz-Signature=7077038461f68c49cb7f4ca51200479a8a47034afcb3838e7b1c42b8ccf25e4f
INFO: Uploading /tmp/d20251008-27915-t7ppg/webbook/metadata.rb (checksum hex = a352268f29e92402709ee7f3d2b3c234) to https://ip-172-31-15-253.ap-south-1.compute.internal:443/bookshelf/organization-b08e525e72b66ac125b0ada0582e9e6f/checksum-a352268f29e92402709ee7f3d2b3c234?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=a4e7a7ead285b32d53e0d193144c5038bc612309%2F20251008%2Fap-south-1%2Fs3%2Faws4_request&X-Amz-Date=20251008T094538Z&X-Amz-Expires=900&X-Amz-SignedHeaders=content-md5%3Bcontent-type%3Bhost&X-Amz-Signature=3a58f467aee42723daa7c065f19b6984d03e45a6bedc328dfee67f4e186a818d
INFO: Uploading /tmp/d20251008-27915-t7ppg/webbook/LICENSE (checksum hex = c02730a32568476981ec96fea98166ba) to https://ip-172-31-15-253.ap-south-1.compute.internal:443/bookshelf/organization-b08e525e72b66ac125b0ada0582e9e6f/checksum-c02730a32568476981ec96fea98166ba?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=a4e7a7ead285b32d53e0d193144c5038bc612309%2F20251008%2Fap-south-1%2Fs3%2Faws4_request&X-Amz-Date=20251008T094538Z&X-Amz-Expires=900&X-Amz-SignedHeaders=content-md5%3Bcontent-type%3Bhost&X-Amz-Signature=a97ed750b03fa670882cde7d999624f81dd36fac3dafa93a0a1dbc16218ba65c
INFO: Uploading /tmp/d20251008-27915-t7ppg/webbook/recipes/web.rb (checksum hex = e19d8374c19f680d595a187239066914) to https://ip-172-31-15-253.ap-south-1.compute.internal:443/bookshelf/organization-b08e525e72b66ac125b0ada0582e9e6f/checksum-e19d8374c19f680d595a187239066914?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=a4e7a7ead285b32d53e0d193144c5038bc612309%2F20251008%2Fap-south-1%2Fs3%2Faws4_request&X-Amz-Date=20251008T094538Z&X-Amz-Expires=900&X-Amz-SignedHeaders=content-md5%3Bcontent-type%3Bhost&X-Amz-Signature=2d3e7cf4f5c1c1caf7b2c07f1e93923de0ea967afb1f87db30799b1b7d1ea747
INFO: Uploading /tmp/d20251008-27915-t7ppg/webbook/recipes/default.rb (checksum hex = ed4d656c9993a9a8624f1413091769cd) to https://ip-172-31-15-253.ap-south-1.compute.internal:443/bookshelf/organization-b08e525e72b66ac125b0ada0582e9e6f/checksum-ed4d656c9993a9a8624f1413091769cd?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=a4e7a7ead285b32d53e0d193144c5038bc612309%2F20251008%2Fap-south-1%2Fs3%2Faws4_request&X-Amz-Date=20251008T094538Z&X-Amz-Expires=900&X-Amz-SignedHeaders=content-md5%3Bcontent-type%3Bhost&X-Amz-Signature=82592b7ffde8c3f0b1e3cfedf96c1afcffb585e169b91439095bfb410697c797
INFO: Upload complete!
Uploaded 1 cookbook.
[root@ip-172-31-0-253 chef-repo]# knife run from file roles/webrole
FATAL: Cannot find subcommand for: 'run from file roles/webrole'
Available subcommands: (for details, knife SUB-COMMAND --help)

** CHEF ORGANIZATION MANAGEMENT COMMANDS **
knife org create ORG_SHORT_NAME ORG_FULL_NAME (options)
knife org delete ORG_NAME
knife org edit ORG
knife org list
knife org show ORGNAME
knife org user add ORG_NAME USER_NAME
knife org user remove ORG_NAME USER_NAME

** ACL COMMANDS **
knife acl add MEMBER_TYPE MEMBER_NAME OBJECT_TYPE OBJECT_NAME PERMS
knife acl bulk add MEMBER_TYPE MEMBER_NAME OBJECT_TYPE REGEX PERMS
knife acl bulk remove MEMBER_TYPE MEMBER_NAME OBJECT_TYPE REGEX PERMS
knife acl remove MEMBER_TYPE MEMBER_NAME OBJECT_TYPE OBJECT_NAME PERMS
knife acl show OBJECT_TYPE OBJECT_NAME

** AZURERM COMMANDS **
knife azurerm server create (options)
knife azurerm server delete SERVER [SERVER] (options)
knife azurerm server list (options)
knife azurerm server show SERVER (options)

** BASE COMMANDS **
Usage: /usr/bin/knife (options)

** BOOTSTRAP COMMANDS **
knife bootstrap [PROTOCOL://][USER@]FQDN (options)
knife bootstrap azurerm SERVER (options)
Usage: /usr/bin/knife (options)
knife bootstrap windows ssh FQDN (options) DEPRECATED
knife bootstrap windows winrm FQDN (options) DEPRECATED

** CLIENT COMMANDS **
knife client bulk delete REGEX (options)
knife client create CLIENTNAME (options)
knife client delete [CLIENT [CLIENT]] (options)
knife client edit CLIENT (options)
knife client key create CLIENT (options)
knife client key delete CLIENT KEYNAME (options)
knife client key edit CLIENT KEYNAME (options)
knife client key list CLIENT (options)
knife client key show CLIENT KEYNAME (options)
knife client list (options)
knife client reregister CLIENT (options)
knife client show CLIENT (options)

** COMMAND COMMANDS **
Usage: /usr/bin/knife (options)

** CONFIG COMMANDS **
knife config list (options)
knife config show [OPTION...] (options)
Displays the value of Chef::Config[OPTION] (or all config values)
knife config use [PROFILE]

** CONFIGURE COMMANDS **
knife configure (options)
knife configure client DIRECTORY

** COOKBOOK COMMANDS **
knife cookbook bulk delete REGEX (options)
knife cookbook delete COOKBOOK VERSION (options)
knife cookbook download COOKBOOK [VERSION] (options)
knife cookbook list (options)
knife cookbook metadata COOKBOOK (options)
knife cookbook metadata from file FILE (options)
knife cookbook show COOKBOOK [VERSION] [PART] [FILENAME] (options)
knife cookbook upload [COOKBOOKS...] (options)

** DATA BAG COMMANDS **
knife data bag create BAG [ITEM] (options)
knife data bag delete BAG [ITEM] (options)
knife data bag edit BAG ITEM (options)
knife data bag from file BAG FILE|FOLDER [FILE|FOLDER..] (options)
knife data bag list (options)
knife data bag show BAG [ITEM] (options)

** EC2 COMMANDS **
knife ec2 ami list (options)
knife ec2 eni list (options)
knife ec2 flavor list (options) [DEPRECATED]
knife ec2 securitygroup list (options)
knife ec2 server create (options)
knife ec2 server delete SERVER [SERVER] (options)
knife ec2 server list (options)
knife ec2 subnet list (options)
knife ec2 vpc list (options)

** ENVIRONMENT COMMANDS **
knife environment compare [ENVIRONMENT..] (options)
knife environment create ENVIRONMENT (options)
knife environment delete ENVIRONMENT (options)
knife environment edit ENVIRONMENT (options)
knife environment from file FILE [FILE..] (options)
knife environment list (options)
knife environment show ENVIRONMENT (options)

** EXEC COMMANDS **
knife exec [SCRIPT] (options)

** GOOGLE COMMANDS **
knife google disk create NAME --gce-disk-size N (options)
knife google disk delete NAME [NAME] (options)
knife google disk list
knife google image list
knife google project quotas
knife google region list
knife google region quotas
knife google server create NAME -m MACHINE_TYPE -I IMAGE (options)
knife google server delete INSTANCE_NAME [INSTANCE_NAME] (options)
knife google server list
knife google server show INSTANCE_NAME (options)
knife google zone list

** GROUP COMMANDS **
knife group add MEMBER_TYPE MEMBER_NAME GROUP_NAME
knife group create GROUP_NAME
knife group destroy GROUP_NAME
knife group list
knife group remove MEMBER_TYPE MEMBER_NAME GROUP_NAME
knife group show GROUP_NAME

** KNIFE COMMANDS **
Usage: /usr/bin/knife (options)

** LICENSE COMMANDS **
knife license [--chef-license-key <LICENSE_KEY>]
knife license list
knife license add [--chef-license-key <LICENSE_KEY>]

** NODE COMMANDS **
knife node bulk delete REGEX (options)
knife node create NODE (options)
knife node delete [NODE [NODE]] (options)
knife node edit NODE (options)
knife node environment set NODE ENVIRONMENT
knife node from file FILE (options)
knife node list (options)
knife node policy set NODE POLICY_GROUP POLICY_NAME (options)
knife node run_list add [NODE] [ENTRY [ENTRY]] (options)
knife node run_list remove [NODE] [ENTRY [ENTRY]] (options)
knife node run_list set NODE ENTRIES (options)
knife node show NODE (options)

** PATH-BASED COMMANDS **
knife delete [PATTERN1 ... PATTERNn]
knife deps PATTERN1 [PATTERNn]
knife diff PATTERNS
knife download PATTERNS
knife edit [PATTERN1 ... PATTERNn]
knife list [-dfR1p] [PATTERN1 ... PATTERNn] (options)
knife show [PATTERN1 ... PATTERNn] (options)
knife upload PATTERNS (options)
knife xargs [COMMAND] (options)

** RAW COMMANDS **
knife raw REQUEST_PATH (options)

** RECIPE COMMANDS **
knife recipe list [PATTERN]

** REHASH COMMANDS **
knife rehash

** RESOURCE COMMANDS **
Usage: /usr/bin/knife (options)

** ROLE COMMANDS **
knife role bulk delete REGEX (options)
knife role create ROLE (options)
knife role delete ROLE (options)
knife role edit ROLE (options)
knife role env_run_list add [ROLE] [ENVIRONMENT] [ENTRY [ENTRY]] (options)
knife role env_run_list clear [ROLE] [ENVIRONMENT] (options)
knife role env_run_list remove [ROLE] [ENVIRONMENT] [ENTRIES] (options)
knife role env_run_list replace [ROLE] [ENVIRONMENT] [OLD_ENTRY] [NEW_ENTRY] (options)
knife role env_run_list set [ROLE] [ENVIRONMENT] [ENTRIES] (options)
knife role from file FILE [FILE..] (options)
knife role list (options)
knife role run_list add [ROLE] [ENTRY [ENTRY]] (options)
knife role run_list clear [ROLE] (options)
knife role run_list remove [ROLE] [ENTRY] (options)
knife role run_list replace [ROLE] [OLD_ENTRY] [NEW_ENTRY] (options)
knife role run_list set [ROLE] [ENTRIES] (options)
knife role show ROLE (options)

** SEARCH COMMANDS **
knife search INDEX QUERY (options)

** SERVE COMMANDS **
knife serve (options)

** SERVER COMMANDS **
Usage: /usr/bin/knife (options)
Usage: /usr/bin/knife (options)
Usage: /usr/bin/knife (options)
Usage: /usr/bin/knife (options)

** SSH COMMANDS **
knife ssh QUERY COMMAND (options)

** SSL COMMANDS **
knife ssl check [URL] (options)
knife ssl fetch [URL] (options)

** STATUS COMMANDS **
knife status QUERY (options)

** SUPERMARKET COMMANDS **
knife supermarket download COOKBOOK [VERSION] (options)
knife supermarket install COOKBOOK [VERSION] (options)
knife supermarket list (options)
knife supermarket search QUERY (options)
knife supermarket share COOKBOOK [CATEGORY] (options)
knife supermarket show COOKBOOK [VERSION] (options)
knife supermarket unshare COOKBOOK

** TAG COMMANDS **
knife tag create NODE TAG ...
knife tag delete NODE TAG ...
knife tag list NODE

** TIDY COMMANDS **
knife tidy backup clean (options)
knife tidy notify (options)
knife tidy server clean (options)
knife tidy server report (options)

** USER COMMANDS **
knife user create USERNAME --email EMAIL --password PASSWORD (options)
knife user delete USER (options)
knife user dissociate USERNAMES
knife user edit USER (options)
knife user invite add USERNAMES
knife user invite list
knife user invite rescind [USERNAMES] (options)
knife user key create USER (options)
knife user key delete USER KEYNAME (options)
knife user key edit USER KEYNAME (options)
knife user key list USER (options)
knife user key show USER KEYNAME (options)
knife user list (options)
knife user password USERNAME [PASSWORD | --enable-external-auth]
knife user reregister USER (options)
knife user show USER (options)

** VAULT COMMANDS **
knife vault create VAULT ITEM VALUES (options)
knife vault delete VAULT ITEM (options)
knife vault download VAULT ITEM PATH (options)
knife vault edit VAULT ITEM (options)
knife vault isvault VAULT ITEM (options)
knife vault itemtype VAULT ITEM (options)
knife vault list (options)
knife vault refresh VAULT ITEM
knife vault remove VAULT ITEM VALUES (options)
knife vault rotate all keys
knife vault rotate keys VAULT ITEM (options)
knife vault show VAULT [ITEM] [VALUES] (options)
knife vault update VAULT ITEM VALUES (options)

** VCENTER COMMANDS **
knife vcenter cluster list
knife vcenter datacenter list
knife vcenter host list
knife vcenter vm clone NAME (options)
knife vcenter vm create NAME
knife vcenter vm delete NAME [NAME] (options)
knife vcenter vm list
knife vcenter vm show NAME (options)

** VRA COMMANDS **
knife vra catalog list
knife vra server create CATALOG_ID (options)
knife vra server delete DEPLOYMENT_ID [DEPLOYMENT_ID] (options)
knife vra server list
knife vra server show DEPLOYMENT_ID (options)

** VRO COMMANDS **
knife vro workflow execute WORKFLOW_NAME [KEY=VALUE] [KEY=VALUE] (options)

** VSPHERE COMMANDS **
knife vsphere cluster list
knife vsphere cpu ratio [CLUSTER] [HOST]
knife vsphere customization list
knife vsphere datastore file
knife vsphere datastore list
knife vsphere datastore maxfree
knife vsphere datastorecluster list
knife vsphere datastorecluster maxfree
knife vsphere folder list
knife vsphere hosts list
knife vsphere pool list
knife vsphere pool query POOLNAME QUERY. See "https://pubs.vmware.com/vi3/sdk/ReferenceGuide/vim.ComputeResource.html" for allowed QUERY values.
knife vsphere pool show POOLNAME QUERY. See "https://pubs.vmware.com/vi3/sdk/ReferenceGuide/vim.ComputeResource.html" for allowed QUERY values.
knife vsphere template list
knife vsphere vlan create NAME VID
knife vsphere vlan list
knife vsphere vm cdrom VMNAME (options)
knife vsphere vm clone VMNAME (options)
knife vsphere vm config VMNAME PROPERTY VALUE (PROPERTY VALUE)...
          See "https://www.vmware.com/support/developer/converter-sdk/conv60_apireference/vim.vm.ConfigSpec.html"
          for allowed ATTRIBUTE values (any property of type xs:string is supported).
knife vsphere vm delete VMNAME (options)
knife vsphere vm disk extend VMNAME SIZE. Extends the disk of vm VMNAME to SIZE kilobytes.
knife vsphere vm disk list VMNAME
knife vsphere vm execute VMNAME COMMAND ARGS
knife vsphere vm find
knife vsphere vm list
knife vsphere vm markastemplate VMNAME
knife vsphere vm migrate VMNAME (options)
knife vsphere vm move VMNAME
knife vsphere vm net STATE VMNAME
knife vsphere vm network add VMNAME NETWORKNAME
knife vsphere vm network delete VMNAME NICNAME
knife vsphere vm network list VMNAME
knife vsphere vm network set VMNAME NETWORKNAME
knife vsphere vm property get VMNAME PROPERTY. Gets a vApp Property on VMNAME.
knife vsphere vm property set VMNAME PROPERTY VALUE. Sets a vApp Property on VMNAME.
knife vsphere vm show VMNAME QUERY. See "https://pubs.vmware.com/vi3/sdk/ReferenceGuide/vim.VirtualMachine.html" for allowed QUERY values.
knife vsphere vm snapshot VMNAME (options)
knife vsphere vm state VMNAME (options)
knife vsphere vm toolsconfig VMNAME PROPERTY VALUE
          See "https://www.vmware.com/support/developer/vc-sdk/visdk25pubs/ReferenceGuide/vim.vm.ToolsConfigInfo.html"
          for available properties and types.
knife vsphere vm vmdk add VMNAME DISK_GB
knife vsphere vm vncset VMNAME
knife vsphere vm wait sysprep VMNAME (options)

** WINDOWS COMMANDS **
knife windows cert generate FILE_PATH (options)
knife windows cert install CERT [CERT] (options)
knife windows listener create (options)

** WINRM COMMANDS **
knife winrm QUERY COMMAND (options)

** WSMAN COMMANDS **
knife wsman test QUERY (options)

** YAML COMMANDS **
knife yaml convert YAML_FILENAME [RUBY_FILENAME]

[root@ip-172-31-0-253 chef-repo]# knife run from file roles/webrole.rb
FATAL: Cannot find subcommand for: 'run from file roles/webrole.rb'
Available subcommands: (for details, knife SUB-COMMAND --help)

** CHEF ORGANIZATION MANAGEMENT COMMANDS **
knife org create ORG_SHORT_NAME ORG_FULL_NAME (options)
knife org delete ORG_NAME
knife org edit ORG
knife org list
knife org show ORGNAME
knife org user add ORG_NAME USER_NAME
knife org user remove ORG_NAME USER_NAME

** ACL COMMANDS **
knife acl add MEMBER_TYPE MEMBER_NAME OBJECT_TYPE OBJECT_NAME PERMS
knife acl bulk add MEMBER_TYPE MEMBER_NAME OBJECT_TYPE REGEX PERMS
knife acl bulk remove MEMBER_TYPE MEMBER_NAME OBJECT_TYPE REGEX PERMS
knife acl remove MEMBER_TYPE MEMBER_NAME OBJECT_TYPE OBJECT_NAME PERMS
knife acl show OBJECT_TYPE OBJECT_NAME

** AZURERM COMMANDS **
knife azurerm server create (options)
knife azurerm server delete SERVER [SERVER] (options)
knife azurerm server list (options)
knife azurerm server show SERVER (options)

** BASE COMMANDS **
Usage: /usr/bin/knife (options)

** BOOTSTRAP COMMANDS **
knife bootstrap [PROTOCOL://][USER@]FQDN (options)
knife bootstrap azurerm SERVER (options)
Usage: /usr/bin/knife (options)
knife bootstrap windows ssh FQDN (options) DEPRECATED
knife bootstrap windows winrm FQDN (options) DEPRECATED

** CLIENT COMMANDS **
knife client bulk delete REGEX (options)
knife client create CLIENTNAME (options)
knife client delete [CLIENT [CLIENT]] (options)
knife client edit CLIENT (options)
knife client key create CLIENT (options)
knife client key delete CLIENT KEYNAME (options)
knife client key edit CLIENT KEYNAME (options)
knife client key list CLIENT (options)
knife client key show CLIENT KEYNAME (options)
knife client list (options)
knife client reregister CLIENT (options)
knife client show CLIENT (options)

** COMMAND COMMANDS **
Usage: /usr/bin/knife (options)

** CONFIG COMMANDS **
knife config list (options)
knife config show [OPTION...] (options)
Displays the value of Chef::Config[OPTION] (or all config values)
knife config use [PROFILE]

** CONFIGURE COMMANDS **
knife configure (options)
knife configure client DIRECTORY

** COOKBOOK COMMANDS **
knife cookbook bulk delete REGEX (options)
knife cookbook delete COOKBOOK VERSION (options)
knife cookbook download COOKBOOK [VERSION] (options)
knife cookbook list (options)
knife cookbook metadata COOKBOOK (options)
knife cookbook metadata from file FILE (options)
knife cookbook show COOKBOOK [VERSION] [PART] [FILENAME] (options)
knife cookbook upload [COOKBOOKS...] (options)

** DATA BAG COMMANDS **
knife data bag create BAG [ITEM] (options)
knife data bag delete BAG [ITEM] (options)
knife data bag edit BAG ITEM (options)
knife data bag from file BAG FILE|FOLDER [FILE|FOLDER..] (options)
knife data bag list (options)
knife data bag show BAG [ITEM] (options)

** EC2 COMMANDS **
knife ec2 ami list (options)
knife ec2 eni list (options)
knife ec2 flavor list (options) [DEPRECATED]
knife ec2 securitygroup list (options)
knife ec2 server create (options)
knife ec2 server delete SERVER [SERVER] (options)
knife ec2 server list (options)
knife ec2 subnet list (options)
knife ec2 vpc list (options)

** ENVIRONMENT COMMANDS **
knife environment compare [ENVIRONMENT..] (options)
knife environment create ENVIRONMENT (options)
knife environment delete ENVIRONMENT (options)
knife environment edit ENVIRONMENT (options)
knife environment from file FILE [FILE..] (options)
knife environment list (options)
knife environment show ENVIRONMENT (options)

** EXEC COMMANDS **
knife exec [SCRIPT] (options)

** GOOGLE COMMANDS **
knife google disk create NAME --gce-disk-size N (options)
knife google disk delete NAME [NAME] (options)
knife google disk list
knife google image list
knife google project quotas
knife google region list
knife google region quotas
knife google server create NAME -m MACHINE_TYPE -I IMAGE (options)
knife google server delete INSTANCE_NAME [INSTANCE_NAME] (options)
knife google server list
knife google server show INSTANCE_NAME (options)
knife google zone list

** GROUP COMMANDS **
knife group add MEMBER_TYPE MEMBER_NAME GROUP_NAME
knife group create GROUP_NAME
knife group destroy GROUP_NAME
knife group list
knife group remove MEMBER_TYPE MEMBER_NAME GROUP_NAME
knife group show GROUP_NAME

** KNIFE COMMANDS **
Usage: /usr/bin/knife (options)

** LICENSE COMMANDS **
knife license [--chef-license-key <LICENSE_KEY>]
knife license list
knife license add [--chef-license-key <LICENSE_KEY>]

** NODE COMMANDS **
knife node bulk delete REGEX (options)
knife node create NODE (options)
knife node delete [NODE [NODE]] (options)
knife node edit NODE (options)
knife node environment set NODE ENVIRONMENT
knife node from file FILE (options)
knife node list (options)
knife node policy set NODE POLICY_GROUP POLICY_NAME (options)
knife node run_list add [NODE] [ENTRY [ENTRY]] (options)
knife node run_list remove [NODE] [ENTRY [ENTRY]] (options)
knife node run_list set NODE ENTRIES (options)
knife node show NODE (options)

** PATH-BASED COMMANDS **
knife delete [PATTERN1 ... PATTERNn]
knife deps PATTERN1 [PATTERNn]
knife diff PATTERNS
knife download PATTERNS
knife edit [PATTERN1 ... PATTERNn]
knife list [-dfR1p] [PATTERN1 ... PATTERNn] (options)
knife show [PATTERN1 ... PATTERNn] (options)
knife upload PATTERNS (options)
knife xargs [COMMAND] (options)

** RAW COMMANDS **
knife raw REQUEST_PATH (options)

** RECIPE COMMANDS **
knife recipe list [PATTERN]

** REHASH COMMANDS **
knife rehash

** RESOURCE COMMANDS **
Usage: /usr/bin/knife (options)

** ROLE COMMANDS **
knife role bulk delete REGEX (options)
knife role create ROLE (options)
knife role delete ROLE (options)
knife role edit ROLE (options)
knife role env_run_list add [ROLE] [ENVIRONMENT] [ENTRY [ENTRY]] (options)
knife role env_run_list clear [ROLE] [ENVIRONMENT] (options)
knife role env_run_list remove [ROLE] [ENVIRONMENT] [ENTRIES] (options)
knife role env_run_list replace [ROLE] [ENVIRONMENT] [OLD_ENTRY] [NEW_ENTRY] (options)
knife role env_run_list set [ROLE] [ENVIRONMENT] [ENTRIES] (options)
knife role from file FILE [FILE..] (options)
knife role list (options)
knife role run_list add [ROLE] [ENTRY [ENTRY]] (options)
knife role run_list clear [ROLE] (options)
knife role run_list remove [ROLE] [ENTRY] (options)
knife role run_list replace [ROLE] [OLD_ENTRY] [NEW_ENTRY] (options)
knife role run_list set [ROLE] [ENTRIES] (options)
knife role show ROLE (options)

** SEARCH COMMANDS **
knife search INDEX QUERY (options)

** SERVE COMMANDS **
knife serve (options)

** SERVER COMMANDS **
Usage: /usr/bin/knife (options)
Usage: /usr/bin/knife (options)
Usage: /usr/bin/knife (options)
Usage: /usr/bin/knife (options)

** SSH COMMANDS **
knife ssh QUERY COMMAND (options)

** SSL COMMANDS **
knife ssl check [URL] (options)
knife ssl fetch [URL] (options)

** STATUS COMMANDS **
knife status QUERY (options)

** SUPERMARKET COMMANDS **
knife supermarket download COOKBOOK [VERSION] (options)
knife supermarket install COOKBOOK [VERSION] (options)
knife supermarket list (options)
knife supermarket search QUERY (options)
knife supermarket share COOKBOOK [CATEGORY] (options)
knife supermarket show COOKBOOK [VERSION] (options)
knife supermarket unshare COOKBOOK

** TAG COMMANDS **
knife tag create NODE TAG ...
knife tag delete NODE TAG ...
knife tag list NODE

** TIDY COMMANDS **
knife tidy backup clean (options)
knife tidy notify (options)
knife tidy server clean (options)
knife tidy server report (options)

** USER COMMANDS **
knife user create USERNAME --email EMAIL --password PASSWORD (options)
knife user delete USER (options)
knife user dissociate USERNAMES
knife user edit USER (options)
knife user invite add USERNAMES
knife user invite list
knife user invite rescind [USERNAMES] (options)
knife user key create USER (options)
knife user key delete USER KEYNAME (options)
knife user key edit USER KEYNAME (options)
knife user key list USER (options)
knife user key show USER KEYNAME (options)
knife user list (options)
knife user password USERNAME [PASSWORD | --enable-external-auth]
knife user reregister USER (options)
knife user show USER (options)

** VAULT COMMANDS **
knife vault create VAULT ITEM VALUES (options)
knife vault delete VAULT ITEM (options)
knife vault download VAULT ITEM PATH (options)
knife vault edit VAULT ITEM (options)
knife vault isvault VAULT ITEM (options)
knife vault itemtype VAULT ITEM (options)
knife vault list (options)
knife vault refresh VAULT ITEM
knife vault remove VAULT ITEM VALUES (options)
knife vault rotate all keys
knife vault rotate keys VAULT ITEM (options)
knife vault show VAULT [ITEM] [VALUES] (options)
knife vault update VAULT ITEM VALUES (options)

** VCENTER COMMANDS **
knife vcenter cluster list
knife vcenter datacenter list
knife vcenter host list
knife vcenter vm clone NAME (options)
knife vcenter vm create NAME
knife vcenter vm delete NAME [NAME] (options)
knife vcenter vm list
knife vcenter vm show NAME (options)

** VRA COMMANDS **
knife vra catalog list
knife vra server create CATALOG_ID (options)
knife vra server delete DEPLOYMENT_ID [DEPLOYMENT_ID] (options)
knife vra server list
knife vra server show DEPLOYMENT_ID (options)

** VRO COMMANDS **
knife vro workflow execute WORKFLOW_NAME [KEY=VALUE] [KEY=VALUE] (options)

** VSPHERE COMMANDS **
knife vsphere cluster list
knife vsphere cpu ratio [CLUSTER] [HOST]
knife vsphere customization list
knife vsphere datastore file
knife vsphere datastore list
knife vsphere datastore maxfree
knife vsphere datastorecluster list
knife vsphere datastorecluster maxfree
knife vsphere folder list
knife vsphere hosts list
knife vsphere pool list
knife vsphere pool query POOLNAME QUERY. See "https://pubs.vmware.com/vi3/sdk/ReferenceGuide/vim.ComputeResource.html" for allowed QUERY values.
knife vsphere pool show POOLNAME QUERY. See "https://pubs.vmware.com/vi3/sdk/ReferenceGuide/vim.ComputeResource.html" for allowed QUERY values.
knife vsphere template list
knife vsphere vlan create NAME VID
knife vsphere vlan list
knife vsphere vm cdrom VMNAME (options)
knife vsphere vm clone VMNAME (options)
knife vsphere vm config VMNAME PROPERTY VALUE (PROPERTY VALUE)...
          See "https://www.vmware.com/support/developer/converter-sdk/conv60_apireference/vim.vm.ConfigSpec.html"
          for allowed ATTRIBUTE values (any property of type xs:string is supported).
knife vsphere vm delete VMNAME (options)
knife vsphere vm disk extend VMNAME SIZE. Extends the disk of vm VMNAME to SIZE kilobytes.
knife vsphere vm disk list VMNAME
knife vsphere vm execute VMNAME COMMAND ARGS
knife vsphere vm find
knife vsphere vm list
knife vsphere vm markastemplate VMNAME
knife vsphere vm migrate VMNAME (options)
knife vsphere vm move VMNAME
knife vsphere vm net STATE VMNAME
knife vsphere vm network add VMNAME NETWORKNAME
knife vsphere vm network delete VMNAME NICNAME
knife vsphere vm network list VMNAME
knife vsphere vm network set VMNAME NETWORKNAME
knife vsphere vm property get VMNAME PROPERTY. Gets a vApp Property on VMNAME.
knife vsphere vm property set VMNAME PROPERTY VALUE. Sets a vApp Property on VMNAME.
knife vsphere vm show VMNAME QUERY. See "https://pubs.vmware.com/vi3/sdk/ReferenceGuide/vim.VirtualMachine.html" for allowed QUERY values.
knife vsphere vm snapshot VMNAME (options)
knife vsphere vm state VMNAME (options)
knife vsphere vm toolsconfig VMNAME PROPERTY VALUE
          See "https://www.vmware.com/support/developer/vc-sdk/visdk25pubs/ReferenceGuide/vim.vm.ToolsConfigInfo.html"
          for available properties and types.
knife vsphere vm vmdk add VMNAME DISK_GB
knife vsphere vm vncset VMNAME
knife vsphere vm wait sysprep VMNAME (options)

** WINDOWS COMMANDS **
knife windows cert generate FILE_PATH (options)
knife windows cert install CERT [CERT] (options)
knife windows listener create (options)

** WINRM COMMANDS **
knife winrm QUERY COMMAND (options)

** WSMAN COMMANDS **
knife wsman test QUERY (options)

** YAML COMMANDS **
knife yaml convert YAML_FILENAME [RUBY_FILENAME]

[root@ip-172-31-0-253 chef-repo]# knife role from file roles/webrole.rb
INFO: Using configuration from /home/ec2-user/chef-repo/.chef/config.rb
ERROR: SyntaxError: /home/ec2-user/chef-repo/roles/webrole.rb:3: syntax error, unexpected string literal, expecting '}'
     "description": "it's install w...
     ^
     /home/ec2-user/chef-repo/roles/webrole.rb:3: syntax error, unexpected ':', expecting end-of-input
     "description": "it's install web server on ...
                  ^
[root@ip-172-31-0-253 chef-repo]# ls
README.md  cookbooks  id_rsa.pem  roles
[root@ip-172-31-0-253 chef-repo]# cd roles/
[root@ip-172-31-0-253 roles]# ls
starter.rb  webrole.rb
[root@ip-172-31-0-253 roles]# cd ..
[root@ip-172-31-0-253 chef-repo]# knife role from file roles/webrole.rb
INFO: Using configuration from /home/ec2-user/chef-repo/.chef/config.rb
ERROR: SyntaxError: /home/ec2-user/chef-repo/roles/webrole.rb:3: syntax error, unexpected string literal, expecting '}'
     "description": "it's install w...
     ^
     /home/ec2-user/chef-repo/roles/webrole.rb:3: syntax error, unexpected ':', expecting end-of-input
     "description": "it's install web server on ...
                  ^
[root@ip-172-31-0-253 chef-repo]# cd roles/
[root@ip-172-31-0-253 roles]# ls
starter.rb  webrole.rb
[root@ip-172-31-0-253 roles]# vi webrole.rb
[root@ip-172-31-0-253 roles]# cd ..
[root@ip-172-31-0-253 chef-repo]# knife role from file roles/webrole.rb
INFO: Using configuration from /home/ec2-user/chef-repo/.chef/config.rb
ERROR: Method Not Allowed
Response: <html><head><title>405 Method Not Allowed</title></head><body><h1>Method Not Allowed</h1>Method Not Allowed<p><hr><address>mochiweb+webmachine web server</address></body></html>
[root@ip-172-31-0-253 chef-repo]# cd roles/
[root@ip-172-31-0-253 roles]# ls
starter.rb  webrole.rb
[root@ip-172-31-0-253 roles]# vi werole.rb
[root@ip-172-31-0-253 roles]# ls
starter.rb  webrole.rb  werole.rb
[root@ip-172-31-0-253 roles]# vi webrole.rb
[root@ip-172-31-0-253 roles]# cd ..
[root@ip-172-31-0-253 chef-repo]# knife role from file roles/webrole.rb
INFO: Using configuration from /home/ec2-user/chef-repo/.chef/config.rb
ERROR: Method Not Allowed
Response: <html><head><title>405 Method Not Allowed</title></head><body><h1>Method Not Allowed</h1>Method Not Allowed<p><hr><address>mochiweb+webmachine web server</address></body></html>
[root@ip-172-31-0-253 chef-repo]# cd roles/
[root@ip-172-31-0-253 roles]# ls
starter.rb  webrole.rb  werole.rb
[root@ip-172-31-0-253 roles]# rm -rf werole.rb
[root@ip-172-31-0-253 roles]# rm webrole.rb
rm: remove regular file 'webrole.rb'? yes
[root@ip-172-31-0-253 roles]# ls
starter.rb
[root@ip-172-31-0-253 roles]# knife create role webrole
FATAL: Cannot find subcommand for: 'create role webrole'
Available subcommands: (for details, knife SUB-COMMAND --help)

** CHEF ORGANIZATION MANAGEMENT COMMANDS **
knife org create ORG_SHORT_NAME ORG_FULL_NAME (options)
knife org delete ORG_NAME
knife org edit ORG
knife org list
knife org show ORGNAME
knife org user add ORG_NAME USER_NAME
knife org user remove ORG_NAME USER_NAME

** ACL COMMANDS **
knife acl add MEMBER_TYPE MEMBER_NAME OBJECT_TYPE OBJECT_NAME PERMS
knife acl bulk add MEMBER_TYPE MEMBER_NAME OBJECT_TYPE REGEX PERMS
knife acl bulk remove MEMBER_TYPE MEMBER_NAME OBJECT_TYPE REGEX PERMS
knife acl remove MEMBER_TYPE MEMBER_NAME OBJECT_TYPE OBJECT_NAME PERMS
knife acl show OBJECT_TYPE OBJECT_NAME

** AZURERM COMMANDS **
knife azurerm server create (options)
knife azurerm server delete SERVER [SERVER] (options)
knife azurerm server list (options)
knife azurerm server show SERVER (options)

** BASE COMMANDS **
Usage: /usr/bin/knife (options)

** BOOTSTRAP COMMANDS **
knife bootstrap [PROTOCOL://][USER@]FQDN (options)
knife bootstrap azurerm SERVER (options)
Usage: /usr/bin/knife (options)
knife bootstrap windows ssh FQDN (options) DEPRECATED
knife bootstrap windows winrm FQDN (options) DEPRECATED

** CLIENT COMMANDS **
knife client bulk delete REGEX (options)
knife client create CLIENTNAME (options)
knife client delete [CLIENT [CLIENT]] (options)
knife client edit CLIENT (options)
knife client key create CLIENT (options)
knife client key delete CLIENT KEYNAME (options)
knife client key edit CLIENT KEYNAME (options)
knife client key list CLIENT (options)
knife client key show CLIENT KEYNAME (options)
knife client list (options)
knife client reregister CLIENT (options)
knife client show CLIENT (options)

** COMMAND COMMANDS **
Usage: /usr/bin/knife (options)

** CONFIG COMMANDS **
knife config list (options)
knife config show [OPTION...] (options)
Displays the value of Chef::Config[OPTION] (or all config values)
knife config use [PROFILE]

** CONFIGURE COMMANDS **
knife configure (options)
knife configure client DIRECTORY

** COOKBOOK COMMANDS **
knife cookbook bulk delete REGEX (options)
knife cookbook delete COOKBOOK VERSION (options)
knife cookbook download COOKBOOK [VERSION] (options)
knife cookbook list (options)
knife cookbook metadata COOKBOOK (options)
knife cookbook metadata from file FILE (options)
knife cookbook show COOKBOOK [VERSION] [PART] [FILENAME] (options)
knife cookbook upload [COOKBOOKS...] (options)

** DATA BAG COMMANDS **
knife data bag create BAG [ITEM] (options)
knife data bag delete BAG [ITEM] (options)
knife data bag edit BAG ITEM (options)
knife data bag from file BAG FILE|FOLDER [FILE|FOLDER..] (options)
knife data bag list (options)
knife data bag show BAG [ITEM] (options)

** EC2 COMMANDS **
knife ec2 ami list (options)
knife ec2 eni list (options)
knife ec2 flavor list (options) [DEPRECATED]
knife ec2 securitygroup list (options)
knife ec2 server create (options)
knife ec2 server delete SERVER [SERVER] (options)
knife ec2 server list (options)
knife ec2 subnet list (options)
knife ec2 vpc list (options)

** ENVIRONMENT COMMANDS **
knife environment compare [ENVIRONMENT..] (options)
knife environment create ENVIRONMENT (options)
knife environment delete ENVIRONMENT (options)
knife environment edit ENVIRONMENT (options)
knife environment from file FILE [FILE..] (options)
knife environment list (options)
knife environment show ENVIRONMENT (options)

** EXEC COMMANDS **
knife exec [SCRIPT] (options)

** GOOGLE COMMANDS **
knife google disk create NAME --gce-disk-size N (options)
knife google disk delete NAME [NAME] (options)
knife google disk list
knife google image list
knife google project quotas
knife google region list
knife google region quotas
knife google server create NAME -m MACHINE_TYPE -I IMAGE (options)
knife google server delete INSTANCE_NAME [INSTANCE_NAME] (options)
knife google server list
knife google server show INSTANCE_NAME (options)
knife google zone list

** GROUP COMMANDS **
knife group add MEMBER_TYPE MEMBER_NAME GROUP_NAME
knife group create GROUP_NAME
knife group destroy GROUP_NAME
knife group list
knife group remove MEMBER_TYPE MEMBER_NAME GROUP_NAME
knife group show GROUP_NAME

** KNIFE COMMANDS **
Usage: /usr/bin/knife (options)

** LICENSE COMMANDS **
knife license [--chef-license-key <LICENSE_KEY>]
knife license list
knife license add [--chef-license-key <LICENSE_KEY>]

** NODE COMMANDS **
knife node bulk delete REGEX (options)
knife node create NODE (options)
knife node delete [NODE [NODE]] (options)
knife node edit NODE (options)
knife node environment set NODE ENVIRONMENT
knife node from file FILE (options)
knife node list (options)
knife node policy set NODE POLICY_GROUP POLICY_NAME (options)
knife node run_list add [NODE] [ENTRY [ENTRY]] (options)
knife node run_list remove [NODE] [ENTRY [ENTRY]] (options)
knife node run_list set NODE ENTRIES (options)
knife node show NODE (options)

** PATH-BASED COMMANDS **
knife delete [PATTERN1 ... PATTERNn]
knife deps PATTERN1 [PATTERNn]
knife diff PATTERNS
knife download PATTERNS
knife edit [PATTERN1 ... PATTERNn]
knife list [-dfR1p] [PATTERN1 ... PATTERNn] (options)
knife show [PATTERN1 ... PATTERNn] (options)
knife upload PATTERNS (options)
knife xargs [COMMAND] (options)

** RAW COMMANDS **
knife raw REQUEST_PATH (options)

** RECIPE COMMANDS **
knife recipe list [PATTERN]

** REHASH COMMANDS **
knife rehash

** RESOURCE COMMANDS **
Usage: /usr/bin/knife (options)

** ROLE COMMANDS **
knife role bulk delete REGEX (options)
knife role create ROLE (options)
knife role delete ROLE (options)
knife role edit ROLE (options)
knife role env_run_list add [ROLE] [ENVIRONMENT] [ENTRY [ENTRY]] (options)
knife role env_run_list clear [ROLE] [ENVIRONMENT] (options)
knife role env_run_list remove [ROLE] [ENVIRONMENT] [ENTRIES] (options)
knife role env_run_list replace [ROLE] [ENVIRONMENT] [OLD_ENTRY] [NEW_ENTRY] (options)
knife role env_run_list set [ROLE] [ENVIRONMENT] [ENTRIES] (options)
knife role from file FILE [FILE..] (options)
knife role list (options)
knife role run_list add [ROLE] [ENTRY [ENTRY]] (options)
knife role run_list clear [ROLE] (options)
knife role run_list remove [ROLE] [ENTRY] (options)
knife role run_list replace [ROLE] [OLD_ENTRY] [NEW_ENTRY] (options)
knife role run_list set [ROLE] [ENTRIES] (options)
knife role show ROLE (options)

** SEARCH COMMANDS **
knife search INDEX QUERY (options)

** SERVE COMMANDS **
knife serve (options)

** SERVER COMMANDS **
Usage: /usr/bin/knife (options)
Usage: /usr/bin/knife (options)
Usage: /usr/bin/knife (options)
Usage: /usr/bin/knife (options)

** SSH COMMANDS **
knife ssh QUERY COMMAND (options)

** SSL COMMANDS **
knife ssl check [URL] (options)
knife ssl fetch [URL] (options)

** STATUS COMMANDS **
knife status QUERY (options)

** SUPERMARKET COMMANDS **
knife supermarket download COOKBOOK [VERSION] (options)
knife supermarket install COOKBOOK [VERSION] (options)
knife supermarket list (options)
knife supermarket search QUERY (options)
knife supermarket share COOKBOOK [CATEGORY] (options)
knife supermarket show COOKBOOK [VERSION] (options)
knife supermarket unshare COOKBOOK

** TAG COMMANDS **
knife tag create NODE TAG ...
knife tag delete NODE TAG ...
knife tag list NODE

** TIDY COMMANDS **
knife tidy backup clean (options)
knife tidy notify (options)
knife tidy server clean (options)
knife tidy server report (options)

** USER COMMANDS **
knife user create USERNAME --email EMAIL --password PASSWORD (options)
knife user delete USER (options)
knife user dissociate USERNAMES
knife user edit USER (options)
knife user invite add USERNAMES
knife user invite list
knife user invite rescind [USERNAMES] (options)
knife user key create USER (options)
knife user key delete USER KEYNAME (options)
knife user key edit USER KEYNAME (options)
knife user key list USER (options)
knife user key show USER KEYNAME (options)
knife user list (options)
knife user password USERNAME [PASSWORD | --enable-external-auth]
knife user reregister USER (options)
knife user show USER (options)

** VAULT COMMANDS **
knife vault create VAULT ITEM VALUES (options)
knife vault delete VAULT ITEM (options)
knife vault download VAULT ITEM PATH (options)
knife vault edit VAULT ITEM (options)
knife vault isvault VAULT ITEM (options)
knife vault itemtype VAULT ITEM (options)
knife vault list (options)
knife vault refresh VAULT ITEM
knife vault remove VAULT ITEM VALUES (options)
knife vault rotate all keys
knife vault rotate keys VAULT ITEM (options)
knife vault show VAULT [ITEM] [VALUES] (options)
knife vault update VAULT ITEM VALUES (options)

** VCENTER COMMANDS **
knife vcenter cluster list
knife vcenter datacenter list
knife vcenter host list
knife vcenter vm clone NAME (options)
knife vcenter vm create NAME
knife vcenter vm delete NAME [NAME] (options)
knife vcenter vm list
knife vcenter vm show NAME (options)

** VRA COMMANDS **
knife vra catalog list
knife vra server create CATALOG_ID (options)
knife vra server delete DEPLOYMENT_ID [DEPLOYMENT_ID] (options)
knife vra server list
knife vra server show DEPLOYMENT_ID (options)

** VRO COMMANDS **
knife vro workflow execute WORKFLOW_NAME [KEY=VALUE] [KEY=VALUE] (options)

** VSPHERE COMMANDS **
knife vsphere cluster list
knife vsphere cpu ratio [CLUSTER] [HOST]
knife vsphere customization list
knife vsphere datastore file
knife vsphere datastore list
knife vsphere datastore maxfree
knife vsphere datastorecluster list
knife vsphere datastorecluster maxfree
knife vsphere folder list
knife vsphere hosts list
knife vsphere pool list
knife vsphere pool query POOLNAME QUERY. See "https://pubs.vmware.com/vi3/sdk/ReferenceGuide/vim.ComputeResource.html" for allowed QUERY values.
knife vsphere pool show POOLNAME QUERY. See "https://pubs.vmware.com/vi3/sdk/ReferenceGuide/vim.ComputeResource.html" for allowed QUERY values.
knife vsphere template list
knife vsphere vlan create NAME VID
knife vsphere vlan list
knife vsphere vm cdrom VMNAME (options)
knife vsphere vm clone VMNAME (options)
knife vsphere vm config VMNAME PROPERTY VALUE (PROPERTY VALUE)...
          See "https://www.vmware.com/support/developer/converter-sdk/conv60_apireference/vim.vm.ConfigSpec.html"
          for allowed ATTRIBUTE values (any property of type xs:string is supported).
knife vsphere vm delete VMNAME (options)
knife vsphere vm disk extend VMNAME SIZE. Extends the disk of vm VMNAME to SIZE kilobytes.
knife vsphere vm disk list VMNAME
knife vsphere vm execute VMNAME COMMAND ARGS
knife vsphere vm find
knife vsphere vm list
knife vsphere vm markastemplate VMNAME
knife vsphere vm migrate VMNAME (options)
knife vsphere vm move VMNAME
knife vsphere vm net STATE VMNAME
knife vsphere vm network add VMNAME NETWORKNAME
knife vsphere vm network delete VMNAME NICNAME
knife vsphere vm network list VMNAME
knife vsphere vm network set VMNAME NETWORKNAME
knife vsphere vm property get VMNAME PROPERTY. Gets a vApp Property on VMNAME.
knife vsphere vm property set VMNAME PROPERTY VALUE. Sets a vApp Property on VMNAME.
knife vsphere vm show VMNAME QUERY. See "https://pubs.vmware.com/vi3/sdk/ReferenceGuide/vim.VirtualMachine.html" for allowed QUERY values.
knife vsphere vm snapshot VMNAME (options)
knife vsphere vm state VMNAME (options)
knife vsphere vm toolsconfig VMNAME PROPERTY VALUE
          See "https://www.vmware.com/support/developer/vc-sdk/visdk25pubs/ReferenceGuide/vim.vm.ToolsConfigInfo.html"
          for available properties and types.
knife vsphere vm vmdk add VMNAME DISK_GB
knife vsphere vm vncset VMNAME
knife vsphere vm wait sysprep VMNAME (options)

** WINDOWS COMMANDS **
knife windows cert generate FILE_PATH (options)
knife windows cert install CERT [CERT] (options)
knife windows listener create (options)

** WINRM COMMANDS **
knife winrm QUERY COMMAND (options)

** WSMAN COMMANDS **
knife wsman test QUERY (options)

** YAML COMMANDS **
knife yaml convert YAML_FILENAME [RUBY_FILENAME]

[root@ip-172-31-0-253 roles]# cd ..
[root@ip-172-31-0-253 chef-repo]# knife role create webrole
INFO: Using configuration from /home/ec2-user/chef-repo/.chef/config.rb
ERROR: RuntimeError: Please set EDITOR environment variable. See https://docs.chef.io/workstation/knife_setup/#setting-your-text-editor for details.
[root@ip-172-31-0-253 chef-repo]# knife role create webrole.rb
INFO: Using configuration from /home/ec2-user/chef-repo/.chef/config.rb
ERROR: Chef::Exceptions::ValidationFailed: Property name's value webrole.rb does not match regular expression /^[\-[:alnum:]_]+$/
[root@ip-172-31-0-253 chef-repo]# Editor:vi knife role create webrole
bash: Editor:vi: command not found
[root@ip-172-31-0-253 chef-repo]# knife[:editor] role create webrole
bash: knife[:editor]: command not found
[root@ip-172-31-0-253 chef-repo]# cd roles/
[root@ip-172-31-0-253 roles]# vi webrole.rb
[root@ip-172-31-0-253 roles]# "webrole.rb" [New] 6L, 115B written
[root@ip-172-31-0-253 roles]# ls
starter.rb  webrole.rb
[root@ip-172-31-0-253 roles]# cd ..
[root@ip-172-31-0-253 chef-repo]# knife role from file roles/webrole.rb
INFO: Using configuration from /home/ec2-user/chef-repo/.chef/config.rb
Updated Role webrole
[root@ip-172-31-0-253 chef-repo]# knife cookbook upload webbook
INFO: Using configuration from /home/ec2-user/chef-repo/.chef/config.rb
Uploading webbook        [0.1.0]
INFO: Validating ruby files
INFO: Validating templates
INFO: Syntax OK
INFO: Saving webbook
INFO: Uploading files
INFO: Upload complete!
Uploaded 1 cookbook.
[root@ip-172-31-0-253 chef-repo]# knife node list
INFO: Using configuration from /home/ec2-user/chef-repo/.chef/config.rb
Webserver
softserver
[root@ip-172-31-0-253 chef-repo]# knife node run_list add webserver "role[webrole"
INFO: Using configuration from /home/ec2-user/chef-repo/.chef/config.rb
ERROR: The object you are looking for could not be found
Response: node 'webserver' not found
[root@ip-172-31-0-253 chef-repo]# knife node run_list add webserver "role[webrole]"
INFO: Using configuration from /home/ec2-user/chef-repo/.chef/config.rb
ERROR: The object you are looking for could not be found
Response: node 'webserver' not found
[root@ip-172-31-0-253 chef-repo]# knife node list
INFO: Using configuration from /home/ec2-user/chef-repo/.chef/config.rb
Webserver
softserver
[root@ip-172-31-0-253 chef-repo]# knife node run_list add Webserver "role[webrole]"
INFO: Using configuration from /home/ec2-user/chef-repo/.chef/config.rb
Webserver:
  run_list: role[webrole]
[root@ip-172-31-0-253 chef-repo]# knife show node Webserver
INFO: Using configuration from /home/ec2-user/chef-repo/.chef/config.rb
ERROR: node: No such file or directory
ERROR: Webserver: No such file or directory
[root@ip-172-31-0-253 chef-repo]# knife node show Webserver
INFO: Using configuration from /home/ec2-user/chef-repo/.chef/config.rb
Node Name:   Webserver
Environment: _default
FQDN:        ip-172-31-7-17.ap-south-1.compute.internal
IP:          13.234.76.10
Run List:    role[webrole]
Roles:
Recipes:
Platform:    amazon 2023
Tags:
[root@ip-172-31-0-253 chef-repo]# knife bootstrap 172.31.7.17 -N Webserver --ssh-user ec2-user --ssh-identity-file id_rsa.pem --sudo -VV
--ssh-user: This flag is deprecated. Use -U/--connection-user instead.
INFO: Using configuration from /home/ec2-user/chef-repo/.chef/config.rb
DEBUG: Checking if we need to accept Chef license to bootstrap node
DEBUG: Reading products and relationships...
DEBUG: Successfully read products and relationships
DEBUG: License acceptance required for chef version: 18
DEBUG: Searching for the following licenses: ["infra-client", "inspec"]
DEBUG: Found license chef_infra_client at /etc/chef/accepted_licenses/chef_infra_client
DEBUG: Found license inspec at /etc/chef/accepted_licenses/inspec
DEBUG: Missing licenses remaining: []
DEBUG: All licenses present
Connecting to 172.31.7.17 using ssh
DEBUG: [SSH] opening connection to ec2-user@172.31.7.17
DEBUG: [SSH] using options {:user_known_hosts_file=>"/dev/null", :port=>22, :compression=>false, :compression_level=>0, :keepalive=>true, :keepalive_interval=>60, :timeout=>60, :auth_methods=>["none", "publickey"], :keys_only=>true, :keys=>["id_rsa.pem"], :password=>"<hidden>", :forward_agent=>false, :non_interactive=>true, :append_all_supported_algorithms=>true, :config=>true, :verify_host_key=>:always}
The authenticity of host '172.31.7.17 ()' can't be established.
fingerprint is SHA256:CcD320D3XTYvqTu2qv4hfSKREhPrMoGgBZldSp1nGZc.

Are you sure you want to continue connecting
? (Y/N) Y
Connecting to 172.31.7.17 using ssh
DEBUG: [SSH] opening connection to ec2-user@172.31.7.17
DEBUG: [SSH] using options {:user_known_hosts_file=>"/dev/null", :port=>22, :compression=>false, :compression_level=>0, :keepalive=>true, :keepalive_interval=>60, :timeout=>60, :auth_methods=>["none", "publickey"], :keys_only=>true, :keys=>["id_rsa.pem"], :password=>"<hidden>", :forward_agent=>false, :non_interactive=>true, :append_all_supported_algorithms=>true, :config=>true, :verify_host_key=>:accept_new}
DEBUG: [SSH] ec2-user@172.31.7.17 cmd = cmd.exe /c ver
DEBUG: [SSH] ec2-user@172.31.7.17 cmd = Get-WmiObject Win32_OperatingSystem | Select Caption,Version | ConvertTo-Json
DEBUG: [SSH] ec2-user@172.31.7.17 cmd = uname -s
DEBUG: [SSH] ec2-user@172.31.7.17 cmd = uname -m
DEBUG: [SSH] ec2-user@172.31.7.17 cmd = test -f /etc/debian_version
DEBUG: [SSH] ec2-user@172.31.7.17 cmd = test -f /etc/os-release && cat /etc/os-release
DEBUG: [SSH] ec2-user@172.31.7.17 cmd = show version
DEBUG: [SSH] ec2-user@172.31.7.17 cmd = test -f /etc/lsb-release && cat /etc/lsb-release
DEBUG: [SSH] ec2-user@172.31.7.17 cmd = test -f /usr/bin/lsb-release && cat /usr/bin/lsb-release
DEBUG: [SSH] ec2-user@172.31.7.17 cmd = test -f /etc/oracle-release && cat /etc/oracle-release
DEBUG: [SSH] ec2-user@172.31.7.17 cmd = test -f /etc/enterprise-release && cat /etc/enterprise-release
DEBUG: [SSH] ec2-user@172.31.7.17 cmd = test -f /etc/parallels-release && cat /etc/parallels-release
DEBUG: [SSH] ec2-user@172.31.7.17 cmd = test -f /etc/system-release && cat /etc/system-release
DEBUG: [SSH] ec2-user@172.31.7.17 cmd = sh -c '(sudo echo) < /dev/null'
DEBUG: [SSH] ec2-user@172.31.7.17 cmd = sudo echo '[SSH] Established'
Node Webserver exists, overwrite it? (Y/N) Y
Client Webserver exists, overwrite it? (Y/N) Y
Creating new client for Webserver
Creating new node for Webserver
DEBUG: [SSH] ec2-user@172.31.7.17 cmd = sudo mkdir -p '/tmp/chef_6qgwFt'
DEBUG: [SSH] ec2-user@172.31.7.17 cmd = sudo chown ec2-user '/tmp/chef_6qgwFt'
Bootstrapping 172.31.7.17
DEBUG: [SSH] ec2-user@172.31.7.17 cmd = sudo sh /tmp/chef_6qgwFt/bootstrap.sh
 [172.31.7.17] -----> Existing Chef Infra Client installation detected
 [172.31.7.17] Starting the first Chef Infra Client Client run...
 [172.31.7.17] [2025-10-08T10:10:22+00:00] DEBUG: Reading products and relationships...
 [172.31.7.17] [2025-10-08T10:10:22+00:00] DEBUG: Successfully read products and relationships
 [172.31.7.17] [2025-10-08T10:10:22+00:00] DEBUG: Searching for the following licenses: ["infra-client", "inspec"]
 [172.31.7.17] [2025-10-08T10:10:22+00:00] DEBUG: Found license chef_infra_client at /etc/chef/accepted_licenses/chef_infra_client
 [172.31.7.17] [2025-10-08T10:10:22+00:00] DEBUG: Found license inspec at /etc/chef/accepted_licenses/inspec
 [172.31.7.17] [2025-10-08T10:10:22+00:00] DEBUG: Missing licenses remaining: []
 [172.31.7.17] [2025-10-08T10:10:22+00:00] DEBUG: All licenses present
 [172.31.7.17] [2025-10-08T10:10:22+00:00] DEBUG: Running Ohai with the following configuration: {:logger=>Chef::Log}
 [172.31.7.17] Chef Infra Client, version 18.8.11
 [172.31.7.17]
 [172.31.7.17] Patents: https://www.chef.io/patents
 [172.31.7.17]
 [172.31.7.17] Infra Phase starting
 [172.31.7.17]
 [172.31.7.17] [2025-10-08T10:10:22+00:00] INFO: *** Chef Infra Client 18.8.11 ***
 [172.31.7.17] [2025-10-08T10:10:22+00:00] INFO: Platform: x86_64-linux
 [172.31.7.17] [2025-10-08T10:10:22+00:00] INFO: Chef-client pid: 5846
 [172.31.7.17] [2025-10-08T10:10:22+00:00] DEBUG: Chef-client request_id: 319feb8c-e2db-4ced-b7dd-0bbf6adc2342
 [172.31.7.17] [2025-10-08T10:10:22+00:00] DEBUG: Running Ohai with the following configuration: {:logger=>Chef::Log}
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: Plugin Network: Parsing ethtool output: Features for enX0:
rx-checksumming: on [fixed]
tx-checksumming: on
        tx-checksum-ipv4: on [fixed]
        tx-checksum-ip-generic: off [fixed]
        tx-checksum-ipv6: on
        tx-checksum-fcoe-crc: off [fixed]
        tx-checksum-sctp: off [fixed]
scatter-gather: on
        tx-scatter-gather: on
        tx-scatter-gather-fraglist: off [fixed]
tcp-segmentation-offload: on
        tx-tcp-segmentation: on
        tx-tcp-ecn-segmentation: off [fixed]
        tx-tcp-mangleid-segmentation: off
        tx-tcp6-segmentation: on
generic-segmentation-offload: on
generic-receive-offload: on
large-receive-offload: off [fixed]
rx-vlan-offload: off [fixed]
tx-vlan-offload: off [fixed]
ntuple-filters: off [fixed]
receive-hashing: off [fixed]
highdma: off [fixed]
rx-vlan-filter: off [fixed]
vlan-challenged: off [fixed]
tx-lockless: off [fixed]
netns-local: off [fixed]
tx-gso-robust: on [fixed]
tx-fcoe-segmentation: off [fixed]
tx-gre-segmentation: off [fixed]
tx-gre-csum-segmentation: off [fixed]
tx-ipxip4-segmentation: off [fixed]
tx-ipxip6-segmentation: off [fixed]
tx-udp_tnl-segmentation: off [fixed]
tx-udp_tnl-csum-segmentation: off [fixed]
tx-gso-partial: off [fixed]
tx-tunnel-remcsum-segmentation: off [fixed]
tx-sctp-segmentation: off [fixed]
tx-esp-segmentation: off [fixed]
tx-udp-segmentation: off [fixed]
tx-gso-list: off [fixed]
fcoe-mtu: off [fixed]
tx-nocache-copy: off
loopback: off [fixed]
rx-fcs: off [fixed]
rx-all: off [fixed]
tx-vlan-stag-hw-insert: off [fixed]
rx-vlan-stag-hw-parse: off [fixed]
rx-vlan-stag-filter: off [fixed]
l2-fwd-offload: off [fixed]
hw-tc-offload: off [fixed]
esp-hw-offload: off [fixed]
esp-tx-csum-hw-offload: off [fixed]
rx-udp_tunnel-port-offload: off [fixed]
tls-hw-tx-offload: off [fixed]
tls-hw-rx-offload: off [fixed]
rx-gro-hw: off [fixed]
tls-hw-record: off [fixed]
rx-gro-list: off
macsec-hw-offload: off [fixed]
rx-udp-gro-forwarding: off
hsr-tag-ins-offload: off [fixed]
hsr-tag-rm-offload: off [fixed]
hsr-fwd-offload: off [fixed]
hsr-dup-offload: off [fixed]

 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:10:23+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:10:24+00:00] ERROR: shard_seed: Failed to get dmi property serial_number: is dmidecode installed?
 [172.31.7.17] [2025-10-08T10:10:24+00:00] DEBUG: Plugin Zpools: Could not shell_out "zpool list -H -o name,size,alloc,free,cap,dedup,health,version". Skipping plugin.
 [172.31.7.17] [2025-10-08T10:10:24+00:00] DEBUG: opening connection to ip-172-31-15-253.ap-south-1.compute.internal:443...
 [172.31.7.17] [2025-10-08T10:10:24+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:10:24+00:00] DEBUG: starting SSL for ip-172-31-15-253.ap-south-1.compute.internal:443...
 [172.31.7.17] [2025-10-08T10:10:24+00:00] DEBUG: SSL established, protocol: TLSv1.2, cipher: ECDHE-RSA-AES256-GCM-SHA384
 [172.31.7.17] [2025-10-08T10:10:24+00:00] DEBUG: Extracting run list from JSON attributes provided on command line
 [172.31.7.17] [2025-10-08T10:10:24+00:00] INFO: Setting the run_list to [] from CLI options
 [172.31.7.17] [2025-10-08T10:10:24+00:00] DEBUG: Applying attributes from json file
 [172.31.7.17] [2025-10-08T10:10:24+00:00] DEBUG: Platform is amazon version 2023
 [172.31.7.17] [2025-10-08T10:10:24+00:00] INFO: Run List is []
 [172.31.7.17] [2025-10-08T10:10:24+00:00] INFO: Run List expands to []
 [172.31.7.17] [2025-10-08T10:10:24+00:00] INFO: Starting Chef Infra Client Run for Webserver
 [172.31.7.17] [2025-10-08T10:10:24+00:00] INFO: Running start handlers
 [172.31.7.17] [2025-10-08T10:10:24+00:00] INFO: Start handlers complete.
 [172.31.7.17] [2025-10-08T10:10:24+00:00] DEBUG: opening connection to ip-172-31-15-253.ap-south-1.compute.internal:443...
 [172.31.7.17] [2025-10-08T10:10:24+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:10:24+00:00] DEBUG: starting SSL for ip-172-31-15-253.ap-south-1.compute.internal:443...
 [172.31.7.17] [2025-10-08T10:10:24+00:00] DEBUG: SSL established, protocol: TLSv1.2, cipher: ECDHE-RSA-AES256-GCM-SHA384
 [172.31.7.17] [2025-10-08T10:10:24+00:00] DEBUG: Error while reporting run start to Data Collector. URL: https://ip-172-31-15-253.ap-south-1.compute.internal/organizations/dropmail/data-collector Exception: 404 -- 404 "Not Found"  (This is normal if you do not have Chef Automate)
 [172.31.7.17] [2025-10-08T10:10:24+00:00] DEBUG: opening connection to ip-172-31-15-253.ap-south-1.compute.internal:443...
 [172.31.7.17] [2025-10-08T10:10:24+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:10:24+00:00] DEBUG: starting SSL for ip-172-31-15-253.ap-south-1.compute.internal:443...
 [172.31.7.17] [2025-10-08T10:10:24+00:00] DEBUG: SSL established, protocol: TLSv1.2, cipher: ECDHE-RSA-AES256-GCM-SHA384
 [172.31.7.17] Resolving cookbooks for run list: []
 [172.31.7.17]
 [172.31.7.17] [2025-10-08T10:10:24+00:00] DEBUG: opening connection to ip-172-31-15-253.ap-south-1.compute.internal:443...
 [172.31.7.17] [2025-10-08T10:10:24+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:10:24+00:00] DEBUG: starting SSL for ip-172-31-15-253.ap-south-1.compute.internal:443...
 [172.31.7.17] [2025-10-08T10:10:24+00:00] DEBUG: SSL established, protocol: TLSv1.2, cipher: ECDHE-RSA-AES256-GCM-SHA384
 [172.31.7.17] [2025-10-08T10:10:24+00:00] INFO: Loading cookbooks []
 [172.31.7.17] Synchronizing cookbooks:
 [172.31.7.17]
 [172.31.7.17] Installing cookbook gem dependencies:
Compiling cookbooks...
[2025-10-08T10:10:24+00:00] DEBUG: Cookbooks to compile: []
 [172.31.7.17] Loading Chef InSpec profile files:
 [172.31.7.17]
 [172.31.7.17] Loading Chef InSpec input files:
 [172.31.7.17]
 [172.31.7.17] Loading Chef InSpec waiver files:
 [172.31.7.17]
 [172.31.7.17] [2025-10-08T10:10:25+00:00] WARN: Node Webserver has an empty run list.
 [172.31.7.17] [2025-10-08T10:10:25+00:00] DEBUG: opening connection to ip-172-31-15-253.ap-south-1.compute.internal:443...
 [172.31.7.17] [2025-10-08T10:10:25+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:10:25+00:00] DEBUG: starting SSL for ip-172-31-15-253.ap-south-1.compute.internal:443...
 [172.31.7.17] [2025-10-08T10:10:25+00:00] DEBUG: SSL established, protocol: TLSv1.2, cipher: ECDHE-RSA-AES256-GCM-SHA384
 [172.31.7.17] Converging 0 resources
 [172.31.7.17]
 [172.31.7.17] [2025-10-08T10:10:25+00:00] DEBUG: Chef::Compliance::Runner#enabled?: Chef InSpec profiles? false
 [172.31.7.17] [2025-10-08T10:10:25+00:00] DEBUG: Chef::Compliance::Runner#enabled?: audit cookbook?
 [172.31.7.17] [2025-10-08T10:10:25+00:00] DEBUG: Chef::Compliance::Runner#enabled?: compliance phase attr? false
 [172.31.7.17] [2025-10-08T10:10:25+00:00] DEBUG: Converging node Webserver
 [172.31.7.17] [2025-10-08T10:10:25+00:00] DEBUG: Saving the current state of node Webserver
 [172.31.7.17] [2025-10-08T10:10:25+00:00] DEBUG: opening connection to ip-172-31-15-253.ap-south-1.compute.internal:443...
 [172.31.7.17] [2025-10-08T10:10:25+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:10:25+00:00] DEBUG: starting SSL for ip-172-31-15-253.ap-south-1.compute.internal:443...
 [172.31.7.17] [2025-10-08T10:10:25+00:00] DEBUG: SSL established, protocol: TLSv1.2, cipher: ECDHE-RSA-AES256-GCM-SHA384
 [172.31.7.17] [2025-10-08T10:10:25+00:00] INFO: Chef Infra Client Run complete in 0.629608146 seconds
 [172.31.7.17]
 [172.31.7.17] Running handlers:
 [172.31.7.17]
 [172.31.7.17] [2025-10-08T10:10:25+00:00] INFO: Running report handlers
 [172.31.7.17] Running handlers complete
 [172.31.7.17] [2025-10-08T10:10:25+00:00] INFO: Report handlers complete
 [172.31.7.17] Infra Phase complete, 0/0 resources updated in 02 seconds
 [172.31.7.17]
 [172.31.7.17] [2025-10-08T10:10:25+00:00] DEBUG: Chef::Compliance::Runner#enabled?: Chef InSpec profiles? false
 [172.31.7.17] [2025-10-08T10:10:25+00:00] DEBUG: Chef::Compliance::Runner#enabled?: audit cookbook?
 [172.31.7.17] [2025-10-08T10:10:25+00:00] DEBUG: Chef::Compliance::Runner#enabled?: compliance phase attr? false
WARNING:
       +---------------------------------------------------------------------------------------------------------------------+
         To ensure uninterrupted downloads of Infra Client, Knife Bootstrap will soon require a license key.

         Here's what you need to know:
           * Adding a License: Use the < knife license > command to easily add a license key.
           * For Commercial Customers: Obtain your license key from the customer portal.
           * For Free/Trial Users: Non-commercial users can generate a license key from https://www.chef.io/license-generation-free-trial

         No action is require at this time, but please prepare for this change.
       +---------------------------------------------------------------------------------------------------------------------+
DEBUG: [SSH] ec2-user@172.31.7.17 cmd = sudo rm -f "/tmp/chef_6qgwFt/bootstrap.sh"
[root@ip-172-31-0-253 chef-repo]# knife show node Webserver
INFO: Using configuration from /home/ec2-user/chef-repo/.chef/config.rb
ERROR: node: No such file or directory
ERROR: Webserver: No such file or directory
[root@ip-172-31-0-253 chef-repo]# knife show node Webserver
INFO: Using configuration from /home/ec2-user/chef-repo/.chef/config.rb
ERROR: node: No such file or directory
ERROR: Webserver: No such file or directory
[root@ip-172-31-0-253 chef-repo]# knife node list
INFO: Using configuration from /home/ec2-user/chef-repo/.chef/config.rb
Webserver
softserver
[root@ip-172-31-0-253 chef-repo]# knife show node Webserver
INFO: Using configuration from /home/ec2-user/chef-repo/.chef/config.rb
ERROR: node: No such file or directory
ERROR: Webserver: No such file or directory
[root@ip-172-31-0-253 chef-repo]# knife node show Webserver
INFO: Using configuration from /home/ec2-user/chef-repo/.chef/config.rb
Node Name:   Webserver
Environment: _default
FQDN:        ip-172-31-7-17.ap-south-1.compute.internal
IP:          13.234.76.10
Run List:
Roles:
Recipes:
Platform:    amazon 2023
Tags:
[root@ip-172-31-0-253 chef-repo]# cd ..
[root@ip-172-31-0-253 ec2-user]# cd chef-repo/
[root@ip-172-31-0-253 chef-repo]# knife role from file roles/webrole.rb
INFO: Using configuration from /home/ec2-user/chef-repo/.chef/config.rb
Updated Role webrole
[root@ip-172-31-0-253 chef-repo]# knife cookbook upload webbook
INFO: Using configuration from /home/ec2-user/chef-repo/.chef/config.rb
Uploading webbook        [0.1.0]
INFO: Validating ruby files
INFO: Validating templates
INFO: Syntax OK
INFO: Saving webbook
INFO: Uploading files
INFO: Upload complete!
Uploaded 1 cookbook.
[root@ip-172-31-0-253 chef-repo]# knife node run_list add Webserver "role[webrole]"
INFO: Using configuration from /home/ec2-user/chef-repo/.chef/config.rb
Webserver:
  run_list: role[webrole]
[root@ip-172-31-0-253 chef-repo]# knife bootstrap 172.31.7.17 -N Webserver --ssh-user ec2-user --ssh-identity-file id_rsa.pem --sudo -VV
--ssh-user: This flag is deprecated. Use -U/--connection-user instead.
INFO: Using configuration from /home/ec2-user/chef-repo/.chef/config.rb
DEBUG: Checking if we need to accept Chef license to bootstrap node
DEBUG: Reading products and relationships...
DEBUG: Successfully read products and relationships
DEBUG: License acceptance required for chef version: 18
DEBUG: Searching for the following licenses: ["infra-client", "inspec"]
DEBUG: Found license chef_infra_client at /etc/chef/accepted_licenses/chef_infra_client
DEBUG: Found license inspec at /etc/chef/accepted_licenses/inspec
DEBUG: Missing licenses remaining: []
DEBUG: All licenses present
Connecting to 172.31.7.17 using ssh
DEBUG: [SSH] opening connection to ec2-user@172.31.7.17
DEBUG: [SSH] using options {:user_known_hosts_file=>"/dev/null", :port=>22, :compression=>false, :compression_level=>0, :keepalive=>true, :keepalive_interval=>60, :timeout=>60, :auth_methods=>["none", "publickey"], :keys_only=>true, :keys=>["id_rsa.pem"], :password=>"<hidden>", :forward_agent=>false, :non_interactive=>true, :append_all_supported_algorithms=>true, :config=>true, :verify_host_key=>:always}
The authenticity of host '172.31.7.17 ()' can't be established.
fingerprint is SHA256:CcD320D3XTYvqTu2qv4hfSKREhPrMoGgBZldSp1nGZc.

Are you sure you want to continue connecting
? (Y/N) y
Connecting to 172.31.7.17 using ssh
DEBUG: [SSH] opening connection to ec2-user@172.31.7.17
DEBUG: [SSH] using options {:user_known_hosts_file=>"/dev/null", :port=>22, :compression=>false, :compression_level=>0, :keepalive=>true, :keepalive_interval=>60, :timeout=>60, :auth_methods=>["none", "publickey"], :keys_only=>true, :keys=>["id_rsa.pem"], :password=>"<hidden>", :forward_agent=>false, :non_interactive=>true, :append_all_supported_algorithms=>true, :config=>true, :verify_host_key=>:accept_new}
DEBUG: [SSH] ec2-user@172.31.7.17 cmd = cmd.exe /c ver
DEBUG: [SSH] ec2-user@172.31.7.17 cmd = Get-WmiObject Win32_OperatingSystem | Select Caption,Version | ConvertTo-Json
DEBUG: [SSH] ec2-user@172.31.7.17 cmd = uname -s
DEBUG: [SSH] ec2-user@172.31.7.17 cmd = uname -m
DEBUG: [SSH] ec2-user@172.31.7.17 cmd = test -f /etc/debian_version
DEBUG: [SSH] ec2-user@172.31.7.17 cmd = test -f /etc/os-release && cat /etc/os-release
DEBUG: [SSH] ec2-user@172.31.7.17 cmd = show version
DEBUG: [SSH] ec2-user@172.31.7.17 cmd = test -f /etc/lsb-release && cat /etc/lsb-release
DEBUG: [SSH] ec2-user@172.31.7.17 cmd = test -f /usr/bin/lsb-release && cat /usr/bin/lsb-release
DEBUG: [SSH] ec2-user@172.31.7.17 cmd = test -f /etc/oracle-release && cat /etc/oracle-release
DEBUG: [SSH] ec2-user@172.31.7.17 cmd = test -f /etc/enterprise-release && cat /etc/enterprise-release
DEBUG: [SSH] ec2-user@172.31.7.17 cmd = test -f /etc/parallels-release && cat /etc/parallels-release
DEBUG: [SSH] ec2-user@172.31.7.17 cmd = test -f /etc/system-release && cat /etc/system-release
DEBUG: [SSH] ec2-user@172.31.7.17 cmd = sh -c '(sudo echo) < /dev/null'
DEBUG: [SSH] ec2-user@172.31.7.17 cmd = sudo echo '[SSH] Established'
Node Webserver exists, overwrite it? (Y/N) y
Client Webserver exists, overwrite it? (Y/N) y
Creating new client for Webserver
Creating new node for Webserver
DEBUG: [SSH] ec2-user@172.31.7.17 cmd = sudo mkdir -p '/tmp/chef_s9lywK'
DEBUG: [SSH] ec2-user@172.31.7.17 cmd = sudo chown ec2-user '/tmp/chef_s9lywK'
Bootstrapping 172.31.7.17
DEBUG: [SSH] ec2-user@172.31.7.17 cmd = sudo sh /tmp/chef_s9lywK/bootstrap.sh
 [172.31.7.17] -----> Existing Chef Infra Client installation detected
 [172.31.7.17] Starting the first Chef Infra Client Client run...
 [172.31.7.17] [2025-10-08T10:24:24+00:00] DEBUG: Reading products and relationships...
 [172.31.7.17] [2025-10-08T10:24:24+00:00] DEBUG: Successfully read products and relationships
 [172.31.7.17] [2025-10-08T10:24:24+00:00] DEBUG: Searching for the following licenses: ["infra-client", "inspec"]
 [172.31.7.17] [2025-10-08T10:24:24+00:00] DEBUG: Found license chef_infra_client at /etc/chef/accepted_licenses/chef_infra_client
 [172.31.7.17] [2025-10-08T10:24:24+00:00] DEBUG: Found license inspec at /etc/chef/accepted_licenses/inspec
 [172.31.7.17] [2025-10-08T10:24:24+00:00] DEBUG: Missing licenses remaining: []
 [172.31.7.17] [2025-10-08T10:24:24+00:00] DEBUG: All licenses present
 [172.31.7.17] [2025-10-08T10:24:24+00:00] DEBUG: Running Ohai with the following configuration: {:logger=>Chef::Log}
 [172.31.7.17] Chef Infra Client, version 18.8.11
 [172.31.7.17]
 [172.31.7.17] Patents: https://www.chef.io/patents
 [172.31.7.17]
 [172.31.7.17] Infra Phase starting
 [172.31.7.17]
 [172.31.7.17] [2025-10-08T10:24:24+00:00] INFO: *** Chef Infra Client 18.8.11 ***
 [172.31.7.17] [2025-10-08T10:24:24+00:00] INFO: Platform: x86_64-linux
 [172.31.7.17] [2025-10-08T10:24:24+00:00] INFO: Chef-client pid: 6940
 [172.31.7.17] [2025-10-08T10:24:24+00:00] DEBUG: Chef-client request_id: 10382740-3728-4fca-bb28-59bbcc7d7510
 [172.31.7.17] [2025-10-08T10:24:24+00:00] DEBUG: Running Ohai with the following configuration: {:logger=>Chef::Log}
 [172.31.7.17] [2025-10-08T10:24:24+00:00] DEBUG: Plugin Network: Parsing ethtool output: Features for enX0:
rx-checksumming: on [fixed]
tx-checksumming: on
        tx-checksum-ipv4: on [fixed]
        tx-checksum-ip-generic: off [fixed]
        tx-checksum-ipv6: on
        tx-checksum-fcoe-crc: off [fixed]
        tx-checksum-sctp: off [fixed]
scatter-gather: on
        tx-scatter-gather: on
        tx-scatter-gather-fraglist: off [fixed]
tcp-segmentation-offload: on
        tx-tcp-segmentation: on
        tx-tcp-ecn-segmentation: off [fixed]
        tx-tcp-mangleid-segmentation: off
        tx-tcp6-segmentation: on
generic-segmentation-offload: on
generic-receive-offload: on
large-receive-offload: off [fixed]
rx-vlan-offload: off [fixed]
tx-vlan-offload: off [fixed]
ntuple-filters: off [fixed]
receive-hashing: off [fixed]
highdma: off [fixed]
rx-vlan-filter: off [fixed]
vlan-challenged: off [fixed]
tx-lockless: off [fixed]
netns-local: off [fixed]
tx-gso-robust: on [fixed]
tx-fcoe-segmentation: off [fixed]
tx-gre-segmentation: off [fixed]
tx-gre-csum-segmentation: off [fixed]
tx-ipxip4-segmentation: off [fixed]
tx-ipxip6-segmentation: off [fixed]
tx-udp_tnl-segmentation: off [fixed]
tx-udp_tnl-csum-segmentation: off [fixed]
tx-gso-partial: off [fixed]
tx-tunnel-remcsum-segmentation: off [fixed]
tx-sctp-segmentation: off [fixed]
tx-esp-segmentation: off [fixed]
tx-udp-segmentation: off [fixed]
tx-gso-list: off [fixed]
fcoe-mtu: off [fixed]
tx-nocache-copy: off
loopback: off [fixed]
rx-fcs: off [fixed]
rx-all: off [fixed]
tx-vlan-stag-hw-insert: off [fixed]
rx-vlan-stag-hw-parse: off [fixed]
rx-vlan-stag-filter: off [fixed]
l2-fwd-offload: off [fixed]
hw-tc-offload: off [fixed]
esp-hw-offload: off [fixed]
esp-tx-csum-hw-offload: off [fixed]
rx-udp_tunnel-port-offload: off [fixed]
tls-hw-tx-offload: off [fixed]
tls-hw-rx-offload: off [fixed]
rx-gro-hw: off [fixed]
tls-hw-record: off [fixed]
rx-gro-list: off
macsec-hw-offload: off [fixed]
rx-udp-gro-forwarding: off
hsr-tag-ins-offload: off [fixed]
hsr-tag-rm-offload: off [fixed]
hsr-fwd-offload: off [fixed]
hsr-dup-offload: off [fixed]

 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opening connection to 169.254.169.254:80...
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:24:25+00:00] ERROR: shard_seed: Failed to get dmi property serial_number: is dmidecode installed?
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: Plugin Zpools: Could not shell_out "zpool list -H -o name,size,alloc,free,cap,dedup,health,version". Skipping plugin.
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opening connection to ip-172-31-15-253.ap-south-1.compute.internal:443...
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: starting SSL for ip-172-31-15-253.ap-south-1.compute.internal:443...
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: SSL established, protocol: TLSv1.2, cipher: ECDHE-RSA-AES256-GCM-SHA384
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: Extracting run list from JSON attributes provided on command line
 [172.31.7.17] [2025-10-08T10:24:25+00:00] INFO: Setting the run_list to [] from CLI options
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: Applying attributes from json file
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: Platform is amazon version 2023
 [172.31.7.17] [2025-10-08T10:24:25+00:00] INFO: Run List is []
 [172.31.7.17] [2025-10-08T10:24:25+00:00] INFO: Run List expands to []
 [172.31.7.17] [2025-10-08T10:24:25+00:00] INFO: Starting Chef Infra Client Run for Webserver
 [172.31.7.17] [2025-10-08T10:24:25+00:00] INFO: Running start handlers
 [172.31.7.17] [2025-10-08T10:24:25+00:00] INFO: Start handlers complete.
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opening connection to ip-172-31-15-253.ap-south-1.compute.internal:443...
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: starting SSL for ip-172-31-15-253.ap-south-1.compute.internal:443...
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: SSL established, protocol: TLSv1.2, cipher: ECDHE-RSA-AES256-GCM-SHA384
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: Error while reporting run start to Data Collector. URL: https://ip-172-31-15-253.ap-south-1.compute.internal/organizations/dropmail/data-collector Exception: 404 -- 404 "Not Found"  (This is normal if you do not have Chef Automate)
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opening connection to ip-172-31-15-253.ap-south-1.compute.internal:443...
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: starting SSL for ip-172-31-15-253.ap-south-1.compute.internal:443...
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: SSL established, protocol: TLSv1.2, cipher: ECDHE-RSA-AES256-GCM-SHA384
 [172.31.7.17] Resolving cookbooks for run list: []
 [172.31.7.17]
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opening connection to ip-172-31-15-253.ap-south-1.compute.internal:443...
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: starting SSL for ip-172-31-15-253.ap-south-1.compute.internal:443...
 [172.31.7.17] [2025-10-08T10:24:25+00:00] DEBUG: SSL established, protocol: TLSv1.2, cipher: ECDHE-RSA-AES256-GCM-SHA384
 [172.31.7.17] [2025-10-08T10:24:26+00:00] INFO: Loading cookbooks []
 [172.31.7.17] Synchronizing cookbooks:
 [172.31.7.17]
 [172.31.7.17] Installing cookbook gem dependencies:
Compiling cookbooks...
[2025-10-08T10:24:26+00:00] DEBUG: Cookbooks to compile: []
 [172.31.7.17] Loading Chef InSpec profile files:
 [172.31.7.17]
 [172.31.7.17] Loading Chef InSpec input files:
 [172.31.7.17]
 [172.31.7.17] Loading Chef InSpec waiver files:
 [172.31.7.17]
 [172.31.7.17] [2025-10-08T10:24:26+00:00] WARN: Node Webserver has an empty run list.
 [172.31.7.17] [2025-10-08T10:24:26+00:00] DEBUG: opening connection to ip-172-31-15-253.ap-south-1.compute.internal:443...
 [172.31.7.17] [2025-10-08T10:24:26+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:24:26+00:00] DEBUG: starting SSL for ip-172-31-15-253.ap-south-1.compute.internal:443...
 [172.31.7.17] [2025-10-08T10:24:26+00:00] DEBUG: SSL established, protocol: TLSv1.2, cipher: ECDHE-RSA-AES256-GCM-SHA384
 [172.31.7.17] Converging 0 resources
 [172.31.7.17]
 [172.31.7.17] [2025-10-08T10:24:26+00:00] DEBUG: Chef::Compliance::Runner#enabled?: Chef InSpec profiles? false
 [172.31.7.17] [2025-10-08T10:24:26+00:00] DEBUG: Chef::Compliance::Runner#enabled?: audit cookbook?
 [172.31.7.17] [2025-10-08T10:24:26+00:00] DEBUG: Chef::Compliance::Runner#enabled?: compliance phase attr? false
 [172.31.7.17] [2025-10-08T10:24:26+00:00] DEBUG: Converging node Webserver
 [172.31.7.17] [2025-10-08T10:24:26+00:00] DEBUG: Saving the current state of node Webserver
 [172.31.7.17] [2025-10-08T10:24:26+00:00] DEBUG: opening connection to ip-172-31-15-253.ap-south-1.compute.internal:443...
 [172.31.7.17] [2025-10-08T10:24:26+00:00] DEBUG: opened
 [172.31.7.17] [2025-10-08T10:24:26+00:00] DEBUG: starting SSL for ip-172-31-15-253.ap-south-1.compute.internal:443...
 [172.31.7.17] [2025-10-08T10:24:26+00:00] DEBUG: SSL established, protocol: TLSv1.2, cipher: ECDHE-RSA-AES256-GCM-SHA384
 [172.31.7.17] [2025-10-08T10:24:26+00:00] INFO: Chef Infra Client Run complete in 0.611285961 seconds
 [172.31.7.17]
 [172.31.7.17] Running handlers:
 [172.31.7.17]
 [172.31.7.17] [2025-10-08T10:24:26+00:00] INFO: Running report handlers
 [172.31.7.17] Running handlers complete
 [172.31.7.17] [2025-10-08T10:24:26+00:00] INFO: Report handlers complete
 [172.31.7.17] Infra Phase complete, 0/0 resources updated in 02 seconds
 [172.31.7.17]
 [172.31.7.17] [2025-10-08T10:24:26+00:00] DEBUG: Chef::Compliance::Runner#enabled?: Chef InSpec profiles? false
 [172.31.7.17] [2025-10-08T10:24:26+00:00] DEBUG: Chef::Compliance::Runner#enabled?: audit cookbook?
 [172.31.7.17] [2025-10-08T10:24:26+00:00] DEBUG: Chef::Compliance::Runner#enabled?: compliance phase attr? false
WARNING:
       +---------------------------------------------------------------------------------------------------------------------+
         To ensure uninterrupted downloads of Infra Client, Knife Bootstrap will soon require a license key.

         Here's what you need to know:
           * Adding a License: Use the < knife license > command to easily add a license key.
           * For Commercial Customers: Obtain your license key from the customer portal.
           * For Free/Trial Users: Non-commercial users can generate a license key from https://www.chef.io/license-generation-free-trial

         No action is require at this time, but please prepare for this change.
       +---------------------------------------------------------------------------------------------------------------------+
DEBUG: [SSH] ec2-user@172.31.7.17 cmd = sudo rm -f "/tmp/chef_s9lywK/bootstrap.sh"
[root@ip-172-31-0-253 chef-repo]# knife node run_list add Webserver "role[webrole]"
INFO: Using configuration from /home/ec2-user/chef-repo/.chef/config.rb
Webserver:
  run_list: role[webrole]
[root@ip-172-31-0-253 chef-repo]# knife cookbook upload autobook
INFO: Using configuration from /home/ec2-user/chef-repo/.chef/config.rb
Uploading autobook       [0.1.0]
INFO: Validating ruby files
INFO: Validating templates
INFO: Syntax OK
INFO: Saving autobook
INFO: Uploading files
INFO: Uploading /tmp/d20251008-29281-f3fzi5/autobook/recipes/auto.rb (checksum hex = 906d5b4d9b123150f69ddb6531d019cc) to https://ip-172-31-15-253.ap-south-1.compute.internal:443/bookshelf/organization-b08e525e72b66ac125b0ada0582e9e6f/checksum-906d5b4d9b123150f69ddb6531d019cc?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=a4e7a7ead285b32d53e0d193144c5038bc612309%2F20251008%2Fap-south-1%2Fs3%2Faws4_request&X-Amz-Date=20251008T102709Z&X-Amz-Expires=900&X-Amz-SignedHeaders=content-md5%3Bcontent-type%3Bhost&X-Amz-Signature=fd15d4729b9ea916f77361276e4223ab90262a74101bcccd161c7765f8613891
INFO: Uploading /tmp/d20251008-29281-f3fzi5/autobook/recipes/default.rb (checksum hex = 8618064d6e8f955b5da7c709111bf438) to https://ip-172-31-15-253.ap-south-1.compute.internal:443/bookshelf/organization-b08e525e72b66ac125b0ada0582e9e6f/checksum-8618064d6e8f955b5da7c709111bf438?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=a4e7a7ead285b32d53e0d193144c5038bc612309%2F20251008%2Fap-south-1%2Fs3%2Faws4_request&X-Amz-Date=20251008T102709Z&X-Amz-Expires=900&X-Amz-SignedHeaders=content-md5%3Bcontent-type%3Bhost&X-Amz-Signature=f682154221ed1aa3b008c014de0ebe0db28fa0035902be0015f27056d7bfadd8
INFO: Uploading /tmp/d20251008-29281-f3fzi5/autobook/CHANGELOG.md (checksum hex = 70f2a6e76bfd000b03d15dbad43bdddb) to https://ip-172-31-15-253.ap-south-1.compute.internal:443/bookshelf/organization-b08e525e72b66ac125b0ada0582e9e6f/checksum-70f2a6e76bfd000b03d15dbad43bdddb?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=a4e7a7ead285b32d53e0d193144c5038bc612309%2F20251008%2Fap-south-1%2Fs3%2Faws4_request&X-Amz-Date=20251008T102709Z&X-Amz-Expires=900&X-Amz-SignedHeaders=content-md5%3Bcontent-type%3Bhost&X-Amz-Signature=852346fb45a17831a477a521ae0ad832ec8a81bf68cd2035532f407d0ca04a0e
INFO: Uploading /tmp/d20251008-29281-f3fzi5/autobook/README.md (checksum hex = 0d77df6034159cba5ccf9f70b96513da) to https://ip-172-31-15-253.ap-south-1.compute.internal:443/bookshelf/organization-b08e525e72b66ac125b0ada0582e9e6f/checksum-0d77df6034159cba5ccf9f70b96513da?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=a4e7a7ead285b32d53e0d193144c5038bc612309%2F20251008%2Fap-south-1%2Fs3%2Faws4_request&X-Amz-Date=20251008T102709Z&X-Amz-Expires=900&X-Amz-SignedHeaders=content-md5%3Bcontent-type%3Bhost&X-Amz-Signature=2dbe3da9fd26cff4e345d25cf8fe388c645231e379caa57ef73b96e40e33f48a
INFO: Uploading /tmp/d20251008-29281-f3fzi5/autobook/metadata.rb (checksum hex = ed84bc929db0a3b16d49a34ec0714de8) to https://ip-172-31-15-253.ap-south-1.compute.internal:443/bookshelf/organization-b08e525e72b66ac125b0ada0582e9e6f/checksum-ed84bc929db0a3b16d49a34ec0714de8?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=a4e7a7ead285b32d53e0d193144c5038bc612309%2F20251008%2Fap-south-1%2Fs3%2Faws4_request&X-Amz-Date=20251008T102709Z&X-Amz-Expires=900&X-Amz-SignedHeaders=content-md5%3Bcontent-type%3Bhost&X-Amz-Signature=9e582ad0930a185d518561189b4989ba39dd4a9fa828d70355df41b2e206a0c2
INFO: Uploading /tmp/d20251008-29281-f3fzi5/autobook/metadata.json (checksum hex = f91f4db94a066af5a22e2cb6ff0d2571) to https://ip-172-31-15-253.ap-south-1.compute.internal:443/bookshelf/organization-b08e525e72b66ac125b0ada0582e9e6f/checksum-f91f4db94a066af5a22e2cb6ff0d2571?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=a4e7a7ead285b32d53e0d193144c5038bc612309%2F20251008%2Fap-south-1%2Fs3%2Faws4_request&X-Amz-Date=20251008T102709Z&X-Amz-Expires=900&X-Amz-SignedHeaders=content-md5%3Bcontent-type%3Bhost&X-Amz-Signature=2f0ecb87cb584c728f171eff7d660a888123cdf8b58c5be7ed88b113cc8268fc
INFO: Upload complete!
Uploaded 1 cookbook.
[root@ip-172-31-0-253 chef-repo]# knife node run_list add Webserver "role[webrole]"
INFO: Using configuration from /home/ec2-user/chef-repo/.chef/config.rb
Webserver:
  run_list: role[webrole]
[root@ip-172-31-0-253 chef-repo]# knife role from file roles/webrole.rb
INFO: Using configuration from /home/ec2-user/chef-repo/.chef/config.rb
Updated Role webrole
[root@ip-172-31-0-253 chef-repo]# ls
README.md  cookbooks  id_rsa.pem  roles
[root@ip-172-31-0-253 chef-repo]# vi cookbooks/webbook/recipes/web.rb
[root@ip-172-31-0-253 chef-repo]# vi cookbooks/autobook/recipes/auto.rb
[root@ip-172-31-0-253 chef-repo]# cat cookbooks/webbook/recipes/web.rb
#
# Cookbook:: webbook
# Recipe:: web
#
# Copyright:: 2025, The Authors, All Rights Reserved.
#






package 'httpd' do
  action :install
end

service 'httpd' do
  action [:enable, :start]
end

file '/var/www/html/index.html' do
  content '<h1>We welcome you here !😍😍😍 </h1>'
  mode '0644'
  owner 'root'
  group 'root'
end
[root@ip-172-31-0-253 chef-repo]# cat cookbooks/autobook/recipes/auto.rb
#
# Cookbook:: autobook
# Recipe:: auto
#
# Copyright:: 2025, The Authors, All Rights Reserved.
#










# Ensure chef-client runs every 30 minutes automatically

cron 'chef-client-run' do
  minute '*/2'
  command '/bin/chef-client'
  user 'root'
end
[root@ip-172-31-0-253 chef-repo]# ls
README.md  cookbooks  id_rsa.pem  roles
[root@ip-172-31-0-253 chef-repo]# cd roles/
[root@ip-172-31-0-253 roles]# ls
starter.rb  webrole.rb
[root@ip-172-31-0-253 roles]# cat webrole.rb
name "webrole"
description "It's install web server on node"
run_list(
  "recipe[webbook]",
  "recipe[autobook]"
)
[root@ip-172-31-0-253 roles]# vi webrole.rb
[root@ip-172-31-0-253 roles]# cd ..
[root@ip-172-31-0-253 chef-repo]# knife role from file roles/webrole.rb
INFO: Using configuration from /home/ec2-user/chef-repo/.chef/config.rb
Updated Role webrole
[root@ip-172-31-0-253 chef-repo]# knife node run_list add Webserver "role[webrole]"
INFO: Using configuration from /home/ec2-user/chef-repo/.chef/config.rb
Webserver:
  run_list: role[webrole]
[root@ip-172-31-0-253 chef-repo]# knife cookbook upload autobook
INFO: Using configuration from /home/ec2-user/chef-repo/.chef/config.rb
Uploading autobook       [0.1.0]
INFO: Validating ruby files
INFO: Validating templates
INFO: Syntax OK
INFO: Saving autobook
INFO: Uploading files
INFO: Upload complete!
Uploaded 1 cookbook.
[root@ip-172-31-0-253 chef-repo]# knife cookbook upload webbook
INFO: Using configuration from /home/ec2-user/chef-repo/.chef/config.rb
Uploading webbook        [0.1.0]
INFO: Validating ruby files
INFO: Validating templates
INFO: Syntax OK
INFO: Saving webbook
INFO: Uploading files
INFO: Upload complete!
Uploaded 1 cookbook.
[root@ip-172-31-0-253 chef-repo]# ls
README.md  cookbooks  id_rsa.pem  roles
[root@ip-172-31-0-253 chef-repo]# vi cookbooks/autobook/recipes/auto.rb
[root@ip-172-31-0-253 chef-repo]# knife cookbook upload autobook
INFO: Using configuration from /home/ec2-user/chef-repo/.chef/config.rb
Uploading autobook       [0.1.0]
INFO: Validating ruby files
INFO: Validating templates
INFO: Syntax OK
INFO: Saving autobook
INFO: Uploading files
INFO: Uploading /tmp/d20251008-29812-fj3q7e/autobook/recipes/auto.rb (checksum hex = 658d8b25285f4dc079cf114fca1f96a6) to https://ip-172-31-15-253.ap-south-1.compute.internal:443/bookshelf/organization-b08e525e72b66ac125b0ada0582e9e6f/checksum-658d8b25285f4dc079cf114fca1f96a6?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=a4e7a7ead285b32d53e0d193144c5038bc612309%2F20251008%2Fap-south-1%2Fs3%2Faws4_request&X-Amz-Date=20251008T104239Z&X-Amz-Expires=900&X-Amz-SignedHeaders=content-md5%3Bcontent-type%3Bhost&X-Amz-Signature=8715538a2d4e4371e3d0ebe8d7691750f658a5e01dbd79d405c5f4504a6e916a
INFO: Upload complete!
Uploaded 1 cookbook.
[root@ip-172-31-0-253 chef-repo]# knife cookbook upload webbook
INFO: Using configuration from /home/ec2-user/chef-repo/.chef/config.rb
Uploading webbook        [0.1.0]
INFO: Validating ruby files
INFO: Validating templates
INFO: Syntax OK
INFO: Saving webbook
INFO: Uploading files
INFO: Upload complete!
Uploaded 1 cookbook.
[root@ip-172-31-0-253 chef-repo]# knife role from file roles/webrole.rb
INFO: Using configuration from /home/ec2-user/chef-repo/.chef/config.rb
Updated Role webrole
[root@ip-172-31-0-253 chef-repo]# knife node run_list add Webserver "role[webrole]"
INFO: Using configuration from /home/ec2-user/chef-repo/.chef/config.rb
Webserver:
  run_list: role[webrole]
[root@ip-172-31-0-253 chef-repo]#
Broadcast message from root@localhost (Wed 2025-10-08 10:44:10 UTC):

The system will power off now!


Broadcast message from root@localhost (Wed 2025-10-08 10:44:10 UTC):

The system will power off now!

Connection to 52.66.253.175 closed by remote host.
Connection to 52.66.253.175 closed.
PS C:\Users\Gaurav.26\Downloads\repo\Linux-mac>
